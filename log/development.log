DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (41.0ms)[0m  [1mdescribe `roles_users`[0m
Mysql2::Error: Table 'antifasoul_development.roles_users' doesn't exist: describe `roles_users`
  [1m[35mSQL (1.7ms)[0m  describe `product_groups_products`
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `products_taxons`[0m
Mysql2::Error: Table 'antifasoul_development.products_taxons' doesn't exist: describe `products_taxons`
  [1m[35mSQL (31.6ms)[0m  describe `option_values_variants`
Mysql2::Error: Table 'antifasoul_development.option_values_variants' doesn't exist: describe `option_values_variants`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `product_groups_products`[0m
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (2.4ms)[0m  [1mdescribe `products_promotion_rules`[0m
Mysql2::Error: Table 'antifasoul_development.products_promotion_rules' doesn't exist: describe `products_promotion_rules`
  [1m[35mSQL (2.3ms)[0m  describe `products_promotion_rules`
Mysql2::Error: Table 'antifasoul_development.products_promotion_rules' doesn't exist: describe `products_promotion_rules`
  [1m[36mSQL (16.7ms)[0m  [1mdescribe `promotion_rules_users`[0m
Mysql2::Error: Table 'antifasoul_development.promotion_rules_users' doesn't exist: describe `promotion_rules_users`
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.2ms)[0m  describe `roles_users`
Mysql2::Error: Table 'antifasoul_development.roles_users' doesn't exist: describe `roles_users`
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `product_groups_products`[0m
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[35mSQL (1.8ms)[0m  describe `products_taxons`
Mysql2::Error: Table 'antifasoul_development.products_taxons' doesn't exist: describe `products_taxons`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `option_values_variants`[0m
Mysql2::Error: Table 'antifasoul_development.option_values_variants' doesn't exist: describe `option_values_variants`
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.6ms)[0m  describe `product_groups_products`
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  describe `products_promotion_rules`
Mysql2::Error: Table 'antifasoul_development.products_promotion_rules' doesn't exist: describe `products_promotion_rules`
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (375.7ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (85.6ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (513.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (20.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to SpreeZeroNineZero (20090823005402)
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (103.0ms)[0m  [1mCREATE TABLE `addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `firstname` varchar(255), `lastname` varchar(255), `address1` varchar(255), `address2` varchar(255), `city` varchar(255), `state_id` int(11), `zipcode` varchar(255), `country_id` int(11), `phone` varchar(255), `created_at` datetime, `updated_at` datetime, `state_name` varchar(255), `alternative_phone` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (273.5ms)[0m  [1mCREATE TABLE `adjustments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `type` varchar(255), `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `description` varchar(255), `position` int(11), `created_at` datetime, `updated_at` datetime, `adjustment_source_id` int(11), `adjustment_source_type` varchar(255), `secondary_type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (194.9ms)[0m  [1mCREATE TABLE `assets` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `viewable_id` int(11), `viewable_type` varchar(50), `attachment_content_type` varchar(255), `attachment_file_name` varchar(255), `attachment_size` int(11), `position` int(11), `type` varchar(75), `attachment_updated_at` datetime, `attachment_width` int(11), `attachment_height` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (152.6ms)[0m  [1mCREATE TABLE `calculators` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `calculable_id` int(11) NOT NULL, `calculable_type` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (465.9ms)[0m  [1mCREATE TABLE `checkouts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `email` varchar(255), `ip_address` varchar(255), `special_instructions` text, `bill_address_id` int(11), `completed_at` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (213.1ms)[0m  [1mCREATE TABLE `configurations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime, `type` varchar(50)) ENGINE=InnoDB[0m
  [1m[35mSQL (11.1ms)[0m  SHOW KEYS FROM `configurations`
  [1m[36mSQL (578.7ms)[0m  [1mCREATE INDEX `index_configurations_on_name_and_type` ON `configurations` (`name`, `type`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (798.9ms)[0m  [1mCREATE TABLE `countries` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `iso_name` varchar(255), `iso` varchar(255), `name` varchar(255), `iso3` varchar(255), `numcode` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (102.7ms)[0m  [1mCREATE TABLE `coupons` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(255), `description` varchar(255), `usage_limit` int(11), `combine` tinyint(1), `expires_at` datetime, `created_at` datetime, `updated_at` datetime, `starts_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (439.5ms)[0m  [1mCREATE TABLE `creditcard_txns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `creditcard_payment_id` int(11), `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `txn_type` int(11), `response_code` varchar(255), `avs_response` text, `cvv_response` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (329.5ms)[0m  [1mCREATE TABLE `creditcards` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `number` text, `month` varchar(255), `year` varchar(255), `verification_value` text, `cc_type` varchar(255), `display_number` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `created_at` datetime, `updated_at` datetime, `start_month` varchar(255), `start_year` varchar(255), `issue_number` varchar(255), `address_id` int(11), `checkout_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (443.0ms)[0m  [1mCREATE TABLE `gateway_configurations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gateway_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (194.7ms)[0m  [1mCREATE TABLE `gateway_option_values` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gateway_configuration_id` int(11), `gateway_option_id` int(11), `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (478.4ms)[0m  [1mCREATE TABLE `gateway_options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `gateway_id` int(11), `textarea` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (153.3ms)[0m  [1mCREATE TABLE `gateways` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `clazz` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (385.0ms)[0m  [1mCREATE TABLE `inventory_units` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `variant_id` int(11), `order_id` int(11), `state` varchar(255), `lock_version` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (136.4ms)[0m  [1mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `variant_id` int(11), `quantity` int(11) NOT NULL, `price` decimal(8,2) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `line_items`
  [1m[36mSQL (333.9ms)[0m  [1mCREATE INDEX `index_line_items_on_order_id` ON `line_items` (`order_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `line_items`
  [1m[36mSQL (117.6ms)[0m  [1mCREATE INDEX `index_line_items_on_variant_id` ON `line_items` (`variant_id`)[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (430.3ms)[0m  [1mCREATE TABLE `option_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(100), `presentation` varchar(100), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (458.4ms)[0m  [1mCREATE TABLE `option_types_prototypes` (`prototype_id` int(11), `option_type_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (498.4ms)[0m  [1mCREATE TABLE `option_values` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `option_type_id` int(11), `name` varchar(255), `position` int(11), `presentation` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (133.3ms)[0m  [1mCREATE TABLE `option_values_variants` (`variant_id` int(11), `option_value_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `option_values_variants`
  [1m[36mSQL (500.7ms)[0m  [1mCREATE INDEX `index_option_values_variants_on_variant_id` ON `option_values_variants` (`variant_id`)[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (179.7ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `number` varchar(15), `item_total` decimal(8,2) DEFAULT 0.0 NOT NULL, `total` decimal(8,2) DEFAULT 0.0 NOT NULL, `created_at` datetime, `updated_at` datetime, `state` varchar(255), `token` varchar(255), `adjustment_total` decimal(8,2) DEFAULT 0.0 NOT NULL, `credit_total` decimal(8,2) DEFAULT 0.0 NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `orders`
  [1m[36mSQL (413.8ms)[0m  [1mCREATE INDEX `index_orders_on_number` ON `orders` (`number`)[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (188.7ms)[0m  [1mCREATE TABLE `payments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `created_at` datetime, `updated_at` datetime, `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `creditcard_id` int(11), `type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (213.5ms)[0m  [1mCREATE TABLE `preferences` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `attribute` varchar(100) NOT NULL, `owner_id` integer NOT NULL, `owner_type` varchar(50) NOT NULL, `group_id` int(11), `group_type` varchar(50), `value` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (33.6ms)[0m  SHOW KEYS FROM `preferences`
  [1m[36mSQL (174.0ms)[0m  [1mCREATE UNIQUE INDEX `index_preferences_on_owner_and_attribute_and_preference` ON `preferences` (`owner_id`, `owner_type`, `attribute`, `group_id`, `group_type`)[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (292.4ms)[0m  [1mCREATE TABLE `product_option_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `option_type_id` int(11), `position` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.9ms)[0m  SHOW TABLES
  [1m[36mSQL (413.2ms)[0m  [1mCREATE TABLE `product_properties` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `property_id` int(11), `value` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (409.2ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT '' NOT NULL, `description` text, `created_at` datetime, `updated_at` datetime, `permalink` varchar(255), `available_on` datetime, `tax_category_id` int(11), `shipping_category_id` int(11), `deleted_at` datetime, `meta_description` varchar(255), `meta_keywords` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.8ms)[0m  SHOW KEYS FROM `products`
  [1m[36mSQL (281.7ms)[0m  [1mCREATE INDEX `index_products_on_available_on` ON `products` (`available_on`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `products`
  [1m[36mSQL (154.2ms)[0m  [1mCREATE INDEX `index_products_on_deleted_at` ON `products` (`deleted_at`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `products`
  [1m[36mSQL (208.4ms)[0m  [1mCREATE INDEX `index_products_on_name` ON `products` (`name`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `products`
  [1m[36mSQL (203.3ms)[0m  [1mCREATE INDEX `index_products_on_permalink` ON `products` (`permalink`)[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (168.5ms)[0m  [1mCREATE TABLE `products_taxons` (`product_id` int(11), `taxon_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `products_taxons`
  [1m[36mSQL (175.7ms)[0m  [1mCREATE INDEX `index_products_taxons_on_product_id` ON `products_taxons` (`product_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `products_taxons`
  [1m[36mSQL (133.1ms)[0m  [1mCREATE INDEX `index_products_taxons_on_taxon_id` ON `products_taxons` (`taxon_id`)[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (168.3ms)[0m  [1mCREATE TABLE `properties` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `presentation` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (175.8ms)[0m  [1mCREATE TABLE `properties_prototypes` (`prototype_id` int(11), `property_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (131.1ms)[0m  [1mCREATE TABLE `prototypes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (160.6ms)[0m  [1mCREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (148.1ms)[0m  [1mCREATE TABLE `roles_users` (`role_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `roles_users`
  [1m[36mSQL (128.9ms)[0m  [1mCREATE INDEX `index_roles_users_on_role_id` ON `roles_users` (`role_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `roles_users`
  [1m[36mSQL (124.3ms)[0m  [1mCREATE INDEX `index_roles_users_on_user_id` ON `roles_users` (`user_id`)[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (167.2ms)[0m  [1mCREATE TABLE `shipments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `shipping_method_id` int(11), `tracking` varchar(255), `created_at` datetime, `updated_at` datetime, `number` varchar(255), `cost` decimal(8,2), `shipped_at` datetime, `address_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (236.7ms)[0m  [1mCREATE TABLE `shipping_categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (220.3ms)[0m  [1mCREATE TABLE `shipping_methods` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `zone_id` int(11), `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (160.0ms)[0m  [1mCREATE TABLE `state_events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `user_id` int(11), `name` varchar(255), `created_at` datetime, `updated_at` datetime, `previous_state` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (191.0ms)[0m  [1mCREATE TABLE `states` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `country_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (161.3ms)[0m  [1mCREATE TABLE `tax_categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (131.7ms)[0m  [1mCREATE TABLE `tax_rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `zone_id` int(11), `amount` decimal(8,4), `created_at` datetime, `updated_at` datetime, `tax_category_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (121.0ms)[0m  [1mCREATE TABLE `taxonomies` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (120.3ms)[0m  [1mCREATE TABLE `taxons` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `taxonomy_id` int(11) NOT NULL, `parent_id` int(11), `position` int(11) DEFAULT 0, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `permalink` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (119.4ms)[0m  [1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255), `crypted_password` varchar(128) DEFAULT '' NOT NULL, `salt` varchar(128) DEFAULT '' NOT NULL, `remember_token` varchar(255), `remember_token_expires_at` varchar(255), `created_at` datetime, `updated_at` datetime, `persistence_token` varchar(255), `single_access_token` varchar(255), `perishable_token` varchar(255), `login_count` int(11) DEFAULT 0 NOT NULL, `failed_login_count` int(11) DEFAULT 0 NOT NULL, `last_request_at` datetime, `current_login_at` datetime, `last_login_at` datetime, `current_login_ip` varchar(255), `last_login_ip` varchar(255), `login` varchar(255), `ship_address_id` int(11), `bill_address_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (121.4ms)[0m  [1mCREATE TABLE `variants` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `sku` varchar(255) DEFAULT '' NOT NULL, `price` decimal(8,2) NOT NULL, `weight` decimal(8,2), `height` decimal(8,2), `width` decimal(8,2), `depth` decimal(8,2), `deleted_at` datetime, `is_master` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `variants`
  [1m[36mSQL (152.4ms)[0m  [1mCREATE INDEX `index_variants_on_product_id` ON `variants` (`product_id`)[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (133.1ms)[0m  [1mCREATE TABLE `zone_members` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `zone_id` int(11), `zoneable_id` int(11), `zoneable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (176.7ms)[0m  [1mCREATE TABLE `zones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (33.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20090823005402')
Migrating to CreateIndexesForInventoryUnits (20090904192342)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `inventory_units`[0m
  [1m[35mSQL (203.4ms)[0m  CREATE INDEX `index_inventory_units_on_variant_id` ON `inventory_units` (`variant_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `inventory_units`[0m
  [1m[35mSQL (186.7ms)[0m  CREATE INDEX `index_inventory_units_on_order_id` ON `inventory_units` (`order_id`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20090904192342')[0m
Migrating to AddCountOnHandToVariantsAndProducts (20090923100315)
  [1m[35mSQL (169.4ms)[0m  ALTER TABLE `variants` ADD `count_on_hand` int(11) DEFAULT 0 NOT NULL
  [1m[36mSQL (240.6ms)[0m  [1mALTER TABLE `products` ADD `count_on_hand` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35mVariant Load (0.5ms)[0m  SELECT `variants`.* FROM `variants`
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20090923100315')
Migrating to ChangeTaxonsToNestedSet (20091007134354)
  [1m[36mSQL (163.9ms)[0m  [1mALTER TABLE `taxons` ADD `lft` int(11)[0m
  [1m[35mSQL (176.3ms)[0m  ALTER TABLE `taxons` ADD `rgt` int(11)
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `products_taxons`[0m
  [1m[35mSQL (2.3ms)[0m  describe `properties_prototypes`
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.3ms)[0m  SHOW TABLES
  [1m[36mProperty Load (0.3ms)[0m  [1mSELECT `properties`.* FROM `properties` WHERE `properties`.`name` = 'brand' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mTaxon Load (0.3ms)[0m  [1mSELECT `taxons`.* FROM `taxons` WHERE (parent_id IS NULL) ORDER BY position ASC[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091007134354')
Migrating to MoveToConfigurableGateways (20091008091614)
  [1m[36mSQL (25.2ms)[0m  [1mDROP TABLE `gateways`[0m
  [1m[35mSQL (1.9ms)[0m  DROP TABLE `gateway_options`
  [1m[36mSQL (1.2ms)[0m  [1mDROP TABLE `gateway_option_values`[0m
  [1m[35mSQL (1.2ms)[0m  DROP TABLE `gateway_configurations`
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (68.5ms)[0m  CREATE TABLE `gateways` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1) DEFAULT 1, `environment` varchar(255) DEFAULT 'development', `server` varchar(255) DEFAULT 'test', `test_mode` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091008091614')[0m
Migrating to ProductGroupsAndScopes (20091012120519)
  [1m[35mSQL (194.5ms)[0m  CREATE TABLE `product_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `order` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (165.2ms)[0m  [1mCREATE TABLE `product_scopes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_group_id` int(11), `name` varchar(255), `arguments` text) ENGINE=InnoDB[0m
  [1m[35mSQL (34.6ms)[0m  SHOW KEYS FROM `product_groups`
  [1m[36mSQL (166.3ms)[0m  [1mCREATE INDEX `index_product_groups_on_name` ON `product_groups` (`name`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `product_groups`
  [1m[36mSQL (166.3ms)[0m  [1mCREATE INDEX `index_product_groups_on_permalink` ON `product_groups` (`permalink`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `product_scopes`
  [1m[36mSQL (155.1ms)[0m  [1mCREATE INDEX `index_product_scopes_on_name` ON `product_scopes` (`name`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `product_scopes`
  [1m[36mSQL (143.4ms)[0m  [1mCREATE INDEX `index_product_scopes_on_product_group_id` ON `product_scopes` (`product_group_id`)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091012120519')
Migrating to AddOpenIdAuthenticationTables (20091015110842)
  [1m[36mSQL (38.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (173.2ms)[0m  CREATE TABLE `open_id_authentication_associations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `issued` int(11), `lifetime` int(11), `handle` varchar(255), `assoc_type` varchar(255), `server_url` blob, `secret` blob) ENGINE=InnoDB
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (204.9ms)[0m  CREATE TABLE `open_id_authentication_nonces` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `timestamp` int(11) NOT NULL, `server_url` varchar(255), `salt` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091015110842')[0m
Migrating to AddOpenidFieldToUsers (20091015153048)
  [1m[35mSQL (126.0ms)[0m  ALTER TABLE `users` ADD `openid_identifier` varchar(255)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `users`[0m
  [1m[35mSQL (161.0ms)[0m  CREATE INDEX `index_users_on_openid_identifier` ON `users` (`openid_identifier`)
  [1m[36mSQL (152.7ms)[0m  [1mALTER TABLE `users` CHANGE `login` `login` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (154.3ms)[0m  ALTER TABLE `users` CHANGE `crypted_password` `crypted_password` varchar(255) DEFAULT NULL
  [1m[36mSQL (201.2ms)[0m  [1mALTER TABLE `users` CHANGE `salt` `salt` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091015153048')
Migrating to ChangePreferenceValueType (20091016174634)
  [1m[36mSQL (12.6ms)[0m  [1mSHOW KEYS FROM `preferences`[0m
  [1m[35mSQL (230.4ms)[0m  DROP INDEX `index_preferences_on_owner_and_attribute_and_preference` ON `preferences`
  [1m[36mSQL (260.0ms)[0m  [1mALTER TABLE `preferences` CHANGE `value` `value` text DEFAULT NULL[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091016174634')
Migrating to CreateBillingIntegrations (20091017175558)
  [1m[36mSQL (219.6ms)[0m  [1mCREATE TABLE `billing_integrations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1) DEFAULT 1, `environment` varchar(255) DEFAULT 'development', `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091017175558')
Migrating to ChargeRefactoring (20091021133257)
  [1m[36mSQL (209.4ms)[0m  [1mALTER TABLE `orders` ADD `completed_at` datetime[0m
  [1m[35mChargeRefactoring::Order Load (0.5ms)[0m  SELECT `orders`.* FROM `orders`
  [1m[36mSQL (218.5ms)[0m  [1mALTER TABLE `checkouts` DROP `completed_at`[0m
  [1m[35mSQL (197.3ms)[0m  ALTER TABLE `adjustments` CHANGE `amount` `amount` decimal(8,2) DEFAULT NULL
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `adjustments` SET type = secondary_type
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `adjustments` SET type = 'CouponCredit' WHERE (type = 'Credit')[0m
  [1m[35mSQL (95.8ms)[0m  ALTER TABLE `adjustments` DROP `secondary_type`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091021133257')[0m
Migrating to AddSomeIndexes (20091104151730)
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `taxons`
  [1m[36mSQL (533.3ms)[0m  [1mCREATE INDEX `index_taxons_on_permalink` ON `taxons` (`permalink`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `taxons`
  [1m[36mSQL (577.4ms)[0m  [1mCREATE INDEX `index_taxons_on_parent_id` ON `taxons` (`parent_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `taxons`
  [1m[36mSQL (325.4ms)[0m  [1mCREATE INDEX `index_taxons_on_taxonomy_id` ON `taxons` (`taxonomy_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `assets`
  [1m[36mSQL (455.4ms)[0m  [1mCREATE INDEX `index_assets_on_viewable_id` ON `assets` (`viewable_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `assets`
  [1m[36mSQL (298.6ms)[0m  [1mCREATE INDEX `index_assets_on_viewable_type_and_type` ON `assets` (`viewable_type`, `type`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `product_properties`
  [1m[36mSQL (246.9ms)[0m  [1mCREATE INDEX `index_product_properties_on_product_id` ON `product_properties` (`product_id`)[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `option_values_variants`
  [1m[36mSQL (274.7ms)[0m  [1mCREATE INDEX `index_option_values_variants_on_variant_id_and_option_value_id` ON `option_values_variants` (`variant_id`, `option_value_id`)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091104151730')
Migrating to CheckoutStateMachine (20091126190904)
  [1m[36mSQL (243.7ms)[0m  [1mALTER TABLE `checkouts` ADD `state` varchar(255)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091126190904')
Migrating to StateForShipments (20091209153045)
  [1m[36mSQL (184.2ms)[0m  [1mALTER TABLE `shipments` ADD `state` varchar(255)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091209153045')
Migrating to MakeStateEventsPolymorphic (20091209202200)
  [1m[36mSQL (1.4ms)[0m  [1mSHOW COLUMNS FROM `state_events` LIKE 'order_id'[0m
  [1m[35mSQL (178.8ms)[0m  ALTER TABLE `state_events` CHANGE `order_id` `stateful_id` int(11) DEFAULT NULL
  [1m[36mSQL (243.6ms)[0m  [1mALTER TABLE `state_events` ADD `stateful_type` varchar(255)[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `state_events` SET `stateful_type` = 'Order'
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091209202200')[0m
Migrating to ShipAddressIdForCheckouts (20091211203813)
  [1m[35mSQL (177.5ms)[0m  ALTER TABLE `checkouts` ADD `ship_address_id` int(11)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091211203813')[0m
Migrating to ShippingMethodIdForCheckouts (20091212161118)
  [1m[35mSQL (238.4ms)[0m  ALTER TABLE `checkouts` ADD `shipping_method_id` int(11)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091212161118')[0m
Migrating to CreditcardLastFourDigits (20091213222815)
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `creditcards` LIKE 'display_number'
  [1m[36mSQL (191.8ms)[0m  [1mALTER TABLE `creditcards` CHANGE `display_number` `last_digits` varchar(255) DEFAULT NULL[0m
  [1m[35mCreditcardLastFourDigits::Creditcard Load (0.5ms)[0m  SELECT `creditcards`.* FROM `creditcards`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091213222815')[0m
Migrating to PopulateLegacyShipmentState (20091214183826)
  [1m[35mPopulateLegacyShipmentState::Shipment Load (0.6ms)[0m  SELECT `shipments`.* FROM `shipments`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091214183826')[0m
Migrating to AddCostPrice (20100105090147)
  [1m[35mSQL (164.4ms)[0m  ALTER TABLE `variants` ADD `cost_price` decimal(8,2) DEFAULT NULL
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100105090147')[0m
Migrating to ShipmentIdForInventoryUnits (20100105132138)
  [1m[35mSQL (205.4ms)[0m  ALTER TABLE `inventory_units` ADD `shipment_id` int(11)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `inventory_units`[0m
  [1m[35mSQL (214.5ms)[0m  CREATE INDEX `index_inventory_units_on_shipment_id` ON `inventory_units` (`shipment_id`)
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mShipment Load (0.5ms)[0m  SELECT `shipments`.* FROM `shipments`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100105132138')[0m
Migrating to AddApiKeyToUsers (20100107141738)
  [1m[35mSQL (96.0ms)[0m  ALTER TABLE `users` ADD `api_key` varchar(40)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100107141738')[0m
Migrating to CimFieldsForCreditcards (20100111205525)
  [1m[35mSQL (183.7ms)[0m  ALTER TABLE `creditcards` ADD `gateway_customer_profile_id` varchar(255)
  [1m[36mSQL (167.4ms)[0m  [1mALTER TABLE `creditcards` ADD `gateway_payment_profile_id` varchar(255)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100111205525')
Migrating to CreateReturnAuthorizations (20100112151511)
  [1m[36mSQL (136.2ms)[0m  [1mCREATE TABLE `return_authorizations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `number` varchar(255), `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `order_id` int(11), `reason` text, `state` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100112151511')
Migrating to AddReturnAuthorizationToInventoryUnits (20100113090919)
  [1m[36mSQL (165.4ms)[0m  [1mALTER TABLE `inventory_units` ADD `return_authorization_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100113090919')
Migrating to CreateTrackers (20100113203104)
  [1m[36mSQL (158.2ms)[0m  [1mCREATE TABLE `trackers` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `environment` varchar(255), `analytics_id` varchar(255), `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100113203104')
Migrating to CreditcardIdForCreditcardTxns (20100121160010)
  [1m[36mSQL (278.5ms)[0m  [1mALTER TABLE `creditcard_txns` ADD `creditcard_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100121160010')
Migrating to OriginalCreditcardTxnIdForCreditcardTxns (20100121183934)
  [1m[36mSQL (180.9ms)[0m  [1mALTER TABLE `creditcard_txns` ADD `original_creditcard_txn_id` int(11)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100121183934')
Migrating to AddTestModeToBillingIntegration (20100125145351)
  [1m[36mSQL (208.3ms)[0m  [1mALTER TABLE `billing_integrations` ADD `test_mode` tinyint(1) DEFAULT 1[0m
  [1m[35mSQL (267.0ms)[0m  ALTER TABLE `billing_integrations` ADD `server` varchar(255) DEFAULT 'test'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100125145351')[0m
Migrating to CreateProductsProductGroups (20100126103714)
  [1m[35mSQL (165.4ms)[0m  CREATE TABLE `product_groups_products` (`product_id` int(11), `product_group_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100126103714')[0m
Migrating to CreatePaymentMethods (20100209025806)
  [1m[35mSQL (139.3ms)[0m  CREATE TABLE `payment_methods` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1) DEFAULT 1, `environment` varchar(255) DEFAULT 'development', `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100209025806')[0m
Migrating to PolymorphicPayments (20100209144531)
  [1m[35mSQL (473.9ms)[0m  ALTER TABLE `payments` DROP `type`
  [1m[36mSQL (203.7ms)[0m  [1mALTER TABLE `payments` DROP `creditcard_id`[0m
  [1m[35mSQL (1.4ms)[0m  SHOW COLUMNS FROM `payments` LIKE 'order_id'
  [1m[36mSQL (190.3ms)[0m  [1mALTER TABLE `payments` CHANGE `order_id` `payable_id` int(11) DEFAULT NULL[0m
  [1m[35mSQL (193.6ms)[0m  ALTER TABLE `payments` ADD `payable_type` varchar(255)
  [1m[36mSQL (134.0ms)[0m  [1mALTER TABLE `payments` ADD `payment_method` varchar(255)[0m
  [1m[35mSQL (133.6ms)[0m  ALTER TABLE `payments` ADD `source_id` int(11)
  [1m[36mSQL (145.4ms)[0m  [1mALTER TABLE `payments` ADD `source_type` varchar(255)[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE payments SET payable_type = 'Order'
  [1m[36mCreditcard Load (0.6ms)[0m  [1mSELECT `creditcards`.* FROM `creditcards`[0m
  [1m[35mSQL (123.2ms)[0m  ALTER TABLE `creditcards` DROP `checkout_id`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100209144531')[0m
Migrating to ChangePaymentsPaymentMethodToBelongsTo (20100213103131)
  [1m[35mSQL (158.8ms)[0m  ALTER TABLE `payments` DROP `payment_method`
  [1m[36mSQL (190.1ms)[0m  [1mALTER TABLE `payments` ADD `payment_method_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100213103131')
Migrating to AssignCreditcardTxnsToPayment (20100214212536)
  [1m[36mSQL (130.6ms)[0m  [1mALTER TABLE `creditcard_txns` ADD `payment_id` int(11)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT * FROM creditcard_txns
  [1m[36mSQL (176.6ms)[0m  [1mALTER TABLE `creditcard_txns` DROP `creditcard_payment_id`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100214212536')
Migrating to StiForTransactions (20100223170312)
  [1m[36mSQL (1.9ms)[0m  [1mRENAME TABLE `creditcard_txns` TO `transactions`[0m
  [1m[35mSQL (197.7ms)[0m  ALTER TABLE `transactions` ADD `type` varchar(255)
  [1m[36mSQL (218.9ms)[0m  [1mALTER TABLE `transactions` DROP `creditcard_id`[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100223170312')
Migrating to DropBillingIntegrations (20100223183812)
  [1m[36mSQL (1.3ms)[0m  [1mDROP TABLE `billing_integrations`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100223183812')
Migrating to DeletedAtForPaymentMethods (20100224153127)
  [1m[36mSQL (129.6ms)[0m  [1mALTER TABLE `payment_methods` ADD `deleted_at` datetime DEFAULT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100224153127')
Migrating to AddAdjustmentsIndex (20100301163454)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `adjustments`[0m
  [1m[35mSQL (186.9ms)[0m  CREATE INDEX `index_adjustments_on_order_id` ON `adjustments` (`order_id`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100301163454')[0m
Migrating to FixByPopularity (20100306153445)
  [1m[35mAREL (34.8ms)[0m  UPDATE `product_scopes` SET name='descend_by_popularity' WHERE (name='by_popularity')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100306153445')[0m
Migrating to AddAltTextToImages (20100317120946)
  [1m[35mSQL (134.1ms)[0m  ALTER TABLE `assets` ADD `alt` text
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100317120946')[0m
Migrating to RenameCouponsToPromotions (20100419190933)
  [1m[35mSQL (0.4ms)[0m  DROP TABLE IF EXISTS promotions
  [1m[36mSQL (1.6ms)[0m  [1mRENAME TABLE `coupons` TO `promotions`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100419190933')
Migrating to FixExistingCouponCredits (20100419194457)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE adjustments SET type='PromotionCredit' WHERE type='CouponCredit'[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE adjustments SET adjustment_source_type='Promotion' WHERE adjustment_source_type='Coupon'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100419194457')[0m
Migrating to CreatePromotionRules (20100426100726)
  [1m[35mSQL (184.5ms)[0m  CREATE TABLE `promotion_rules` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `promotion_id` int(11), `user_id` int(11), `product_group_id` int(11), `created_at` datetime, `updated_at` datetime, `type` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `promotion_rules`[0m
  [1m[35mSQL (172.8ms)[0m  CREATE INDEX `index_promotion_rules_on_product_group_id` ON `promotion_rules` (`product_group_id`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW KEYS FROM `promotion_rules`[0m
  [1m[35mSQL (133.1ms)[0m  CREATE INDEX `index_promotion_rules_on_user_id` ON `promotion_rules` (`user_id`)
  [1m[36mSQL (169.6ms)[0m  [1mCREATE TABLE `products_promotion_rules` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `promotion_rule_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (179.7ms)[0m  ALTER TABLE `products_promotion_rules` DROP `id`
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `products_promotion_rules`[0m
  [1m[35mSQL (128.5ms)[0m  CREATE INDEX `index_products_promotion_rules_on_product_id` ON `products_promotion_rules` (`product_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `products_promotion_rules`[0m
  [1m[35mSQL (169.1ms)[0m  CREATE INDEX `index_products_promotion_rules_on_promotion_rule_id` ON `products_promotion_rules` (`promotion_rule_id`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100426100726')[0m
Migrating to AddDisplayToPaymentMethods (20100427121301)
  [1m[35mSQL (154.7ms)[0m  ALTER TABLE `payment_methods` ADD `display` varchar(255) DEFAULT NULL
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100427121301')[0m
Migrating to MatchPolicyForPromotions (20100501084722)
  [1m[35mSQL (162.2ms)[0m  ALTER TABLE `promotions` ADD `match_policy` varchar(255) DEFAULT 'all'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100501084722')[0m
Migrating to CreatePromotionRulesUsers (20100501095202)
  [1m[35mSQL (191.1ms)[0m  CREATE TABLE `promotion_rules_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `promotion_rule_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (248.6ms)[0m  [1mALTER TABLE `promotion_rules_users` DROP `id`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `promotion_rules_users`
  [1m[36mSQL (200.6ms)[0m  [1mCREATE INDEX `index_promotion_rules_users_on_user_id` ON `promotion_rules_users` (`user_id`)[0m
  [1m[35mSQL (242.0ms)[0m  SHOW KEYS FROM `promotion_rules_users`
  [1m[36mSQL (252.2ms)[0m  [1mCREATE INDEX `index_promotion_rules_users_on_promotion_rule_id` ON `promotion_rules_users` (`promotion_rule_id`)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100501095202')
Migrating to NameForPromotions (20100502163939)
  [1m[36mSQL (514.8ms)[0m  [1mALTER TABLE `promotions` ADD `name` varchar(255)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100502163939')
Migrating to AddAddressesCheckoutsIndexes (20100504142133)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `addresses`[0m
  [1m[35mSQL (350.8ms)[0m  CREATE INDEX `index_addresses_on_firstname` ON `addresses` (`firstname`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `addresses`[0m
  [1m[35mSQL (273.4ms)[0m  CREATE INDEX `index_addresses_on_lastname` ON `addresses` (`lastname`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `checkouts`[0m
  [1m[35mSQL (243.7ms)[0m  CREATE INDEX `index_checkouts_on_order_id` ON `checkouts` (`order_id`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `checkouts`[0m
  [1m[35mSQL (248.4ms)[0m  CREATE INDEX `index_checkouts_on_bill_address_id` ON `checkouts` (`bill_address_id`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100504142133')[0m
Migrating to AddIconToTaxons (20100506180619)
  [1m[35mSQL (188.6ms)[0m  ALTER TABLE `taxons` ADD `icon_file_name` varchar(255)
  [1m[36mSQL (231.0ms)[0m  [1mALTER TABLE `taxons` ADD `icon_content_type` varchar(255)[0m
  [1m[35mSQL (190.5ms)[0m  ALTER TABLE `taxons` ADD `icon_file_size` int(11)
  [1m[36mSQL (207.6ms)[0m  [1mALTER TABLE `taxons` ADD `icon_updated_at` datetime[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100506180619')
Migrating to AddDescriptionToTaxons (20100506185838)
  [1m[36mSQL (199.4ms)[0m  [1mALTER TABLE `taxons` ADD `description` text[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100506185838')
Migrating to IndexForShipmentsNumber (20100528155333)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `shipments`[0m
  [1m[35mSQL (154.9ms)[0m  CREATE INDEX `index_shipments_on_number` ON `shipments` (`number`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100528155333')[0m
Migrating to AddIndexOnUsersPersistenceToken (20100528185820)
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `users`
  [1m[36mSQL (180.7ms)[0m  [1mCREATE INDEX `index_users_on_persistence_token` ON `users` (`persistence_token`)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100528185820')
Migrating to AddDefaultToTaxCategories (20100605152042)
  [1m[36mSQL (229.3ms)[0m  [1mALTER TABLE `tax_categories` ADD `is_default` tinyint(1) DEFAULT 0[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100605152042')
Migrating to AddDisplayToShippingMethods (20100624110730)
  [1m[36mSQL (215.8ms)[0m  [1mALTER TABLE `shipping_methods` ADD `display_on` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100624110730')
Migrating to RenamePaymentMethodDisplay (20100624123336)
  [1m[36mSQL (1.2ms)[0m  [1mSHOW COLUMNS FROM `payment_methods` LIKE 'display'[0m
  [1m[35mSQL (156.6ms)[0m  ALTER TABLE `payment_methods` CHANGE `display` `display_on` varchar(255) DEFAULT NULL
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100624123336')[0m
Migrating to RenamePreferencesField (20100624175547)
  [1m[35mSQL (1.4ms)[0m  SHOW COLUMNS FROM `preferences` LIKE 'attribute'
  [1m[36mSQL (146.0ms)[0m  [1mALTER TABLE `preferences` CHANGE `attribute` `name` varchar(100) NOT NULL[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100624175547')
Migrating to AddGuestFlag (20100811163637)
  [1m[36mSQL (172.8ms)[0m  [1mALTER TABLE `users` ADD `guest` tinyint(1)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100811163637')
Migrating to DropOrderToken (20100811205836)
  [1m[36mSQL (171.0ms)[0m  [1mALTER TABLE `orders` DROP `token`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100811205836')
Migrating to PaymentsStateAndAssignedToOrderOnly (20100812162326)
  [1m[36mSQL (1.6ms)[0m  [1mSHOW COLUMNS FROM `payments` LIKE 'payable_id'[0m
  [1m[35mSQL (156.4ms)[0m  ALTER TABLE `payments` CHANGE `payable_id` `order_id` int(11) DEFAULT NULL
  [1m[36mSQL (178.3ms)[0m  [1mALTER TABLE `payments` DROP `payable_type`[0m
  [1m[35mSQL (155.5ms)[0m  ALTER TABLE `payments` ADD `state` varchar(255)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100812162326')[0m
Migrating to CreateAddressKeysForOrder (20100813023502)
  [1m[35mSQL (128.3ms)[0m  ALTER TABLE `orders` ADD `bill_address_id` int(11)
  [1m[36mSQL (158.1ms)[0m  [1mALTER TABLE `orders` ADD `ship_address_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100813023502')
Migrating to PaymentTotalForOrders (20100813185745)
  [1m[36mSQL (138.5ms)[0m  [1mALTER TABLE `orders` ADD `payment_total` decimal(8,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100813185745')
Migrating to ShippingMethodIdForOrders (20100816212146)
  [1m[36mSQL (172.7ms)[0m  [1mALTER TABLE `orders` ADD `shipping_method_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100816212146')
Migrating to AddShipmentAndPaymentState (20100817152723)
  [1m[36mSQL (194.4ms)[0m  [1mALTER TABLE `orders` ADD `shipment_state` varchar(255)[0m
  [1m[35mSQL (177.2ms)[0m  ALTER TABLE `orders` ADD `payment_state` varchar(255)
  [1m[36mSQL (32.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100817152723')[0m
Migrating to RefactorAdjustments (20100819170125)
  [1m[35mSQL (173.5ms)[0m  ALTER TABLE `adjustments` ADD `mandatory` tinyint(1)
  [1m[36mSQL (216.1ms)[0m  [1mALTER TABLE `adjustments` ADD `frozen` tinyint(1)[0m
  [1m[35mSQL (1.7ms)[0m  SHOW COLUMNS FROM `adjustments` LIKE 'adjustment_source_id'
  [1m[36mSQL (157.4ms)[0m  [1mALTER TABLE `adjustments` CHANGE `adjustment_source_id` `source_id` int(11) DEFAULT NULL[0m
  [1m[35mSQL (1.8ms)[0m  SHOW COLUMNS FROM `adjustments` LIKE 'adjustment_source_type'
  [1m[36mSQL (185.8ms)[0m  [1mALTER TABLE `adjustments` CHANGE `adjustment_source_type` `source_type` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (175.7ms)[0m  ALTER TABLE `adjustments` ADD `originator_id` int(11)
  [1m[36mSQL (110.3ms)[0m  [1mALTER TABLE `adjustments` ADD `originator_type` varchar(255)[0m
  [1m[35mSQL (286.1ms)[0m  ALTER TABLE `adjustments` DROP `type`
  [1m[36mSQL (1.5ms)[0m  [1mSHOW COLUMNS FROM `adjustments` LIKE 'description'[0m
  [1m[35mSQL (124.4ms)[0m  ALTER TABLE `adjustments` CHANGE `description` `label` varchar(255) DEFAULT NULL
  [1m[36mSQL (188.9ms)[0m  [1mALTER TABLE `adjustments` DROP `position`[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100819170125')
Migrating to ResponseCodeAndAvsResponseForPayments (20100820135707)
  [1m[36mSQL (138.0ms)[0m  [1mALTER TABLE `payments` ADD `response_code` varchar(255)[0m
  [1m[35mSQL (156.8ms)[0m  ALTER TABLE `payments` ADD `avs_response` varchar(255)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100820135707')[0m
Migrating to ChangeGuestFlagToAnonymous (20100901171814)
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'guest'
  [1m[36mSQL (122.2ms)[0m  [1mALTER TABLE `users` CHANGE `guest` `anonymous` tinyint(1) DEFAULT NULL[0m
  [1m[35mSQL (37.8ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100901171814')
Migrating to EmailForOrders (20100903203949)
  [1m[36mSQL (190.6ms)[0m  [1mALTER TABLE `orders` ADD `email` varchar(255)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100903203949')
Migrating to UpdateCalculableTypeForPromotions (20100923095305)
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `calculators` SET calculable_type = 'Promotion' WHERE (calculable_type = 'Coupon')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100923095305')
Migrating to CreateMailMethods (20100923162011)
  [1m[36mSQL (136.0ms)[0m  [1mCREATE TABLE `mail_methods` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `environment` varchar(255), `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100923162011')
Migrating to RenameFrozenToLocked (20100929151905)
  [1m[36mSQL (1.6ms)[0m  [1mSHOW COLUMNS FROM `adjustments` LIKE 'frozen'[0m
  [1m[35mSQL (159.0ms)[0m  ALTER TABLE `adjustments` CHANGE `frozen` `locked` tinyint(1) DEFAULT NULL
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100929151905')[0m
Migrating to MoveSpecialInstructionsToOrders (20101008190536)
  [1m[35mSQL (161.7ms)[0m  ALTER TABLE `orders` ADD `special_instructions` text
  [1m[36mSQL (64.1ms)[0m  [1mupdate orders set special_instructions = (select special_instructions from checkouts where order_id = orders.id)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101008190536')
Migrating to CreateLogEntries (20101026184700)
  [1m[36mSQL (224.7ms)[0m  [1mCREATE TABLE `log_entries` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `source_id` int(11), `source_type` varchar(255), `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184700')
Migrating to MigrateTransactionsToPaymentState (20101026184714)
  [1m[36mTransaction Load (1.6ms)[0m  [1mselect * from transactions group by payment_id having count(payment_id) = 1 and txn_type = 1[0m
  [1m[35mTransaction Load (0.3ms)[0m  select * from transactions where txn_type=4
  [1m[36mTransaction Load (0.2ms)[0m  [1mselect * from transactions where txn_type = 2[0m
  [1m[35mTransaction Load (0.2ms)[0m  select * from transactions where txn_type = 3
  [1m[36mTransaction Load (0.2ms)[0m  [1mselect * from transactions where txn_type = 5[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184714')
Migrating to DeleteInProgressOrders (20101026184746)
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `orders` WHERE `orders`.`state` = 'in_progress'
  [1m[36mSQL (0.5ms)[0m  [1mdelete from adjustments where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.2ms)[0m  delete from checkouts where order_id not in (select id from orders)
  [1m[36mSQL (0.1ms)[0m  [1mdelete from shipments where order_id not in (select id from orders)[0m
  [1m[35mSQL (34.8ms)[0m  delete from payments where order_id not in (select id from orders)
  [1m[36mSQL (0.2ms)[0m  [1mdelete from line_items where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.2ms)[0m  delete from inventory_units where order_id not in (select id from orders)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184746')[0m
Migrating to MigrateCheckoutToOrders (20101026184808)
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE (`orders`.`id` >= 0) ORDER BY `orders`.`id` ASC LIMIT 1000
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184808')[0m
Migrating to MigrateAdjustments (20101026184833)
  [1m[35mSQL (0.3ms)[0m  update adjustments set amount = 0.0 where amount is null
  [1m[36mSQL (0.1ms)[0m  [1mupdate adjustments set mandatory = 'true', locked = 'true'[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184833')
Migrating to RemoveShippedState (20101026184855)
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`state` = 'shipped'[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184855')
Migrating to PreventNilPaymentTotal (20101026184916)
  [1m[36mSQL (1.3ms)[0m  [1mupdate orders set payment_total = 0.0 where payment_total is null[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184916')
Migrating to PreventNilEmail (20101026184932)
  [1m[36mSQL (0.3ms)[0m  [1mupdate orders set email = 'guest@example.com' where email is null[0m
  [1m[35mSQL (0.1ms)[0m  update orders set email = 'guest@example.com' where email = ''
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184932')[0m
Migrating to GenerateAnonymousUsers (20101026184959)
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`user_id` IS NULL
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184959')[0m
Migrating to UpdateOrderState (20101026185022)
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026185022')[0m
Migrating to CleanupLegacyTables (20101026192225)
  [1m[35mSQL (1.6ms)[0m  DROP TABLE `checkouts`
  [1m[36mSQL (1.0ms)[0m  [1mDROP TABLE `transactions`[0m
  [1m[35mSQL (1.4ms)[0m  DROP TABLE `open_id_authentication_associations`
  [1m[36mSQL (1.0ms)[0m  [1mDROP TABLE `open_id_authentication_nonces`[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026192225')
Migrating to RemoveNumberAndCvvFromCredicard (20101028151745)
  [1m[36mSQL (128.6ms)[0m  [1mALTER TABLE `creditcards` DROP `number`[0m
  [1m[35mSQL (196.1ms)[0m  ALTER TABLE `creditcards` DROP `verification_value`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101028151745')[0m
Migrating to RenameColumnsForDevise (20101101185116)
  [1m[35mSQL (1.7ms)[0m  SHOW COLUMNS FROM `users` LIKE 'crypted_password'
  [1m[36mSQL (190.2ms)[0m  [1mALTER TABLE `users` CHANGE `crypted_password` `encrypted_password` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'salt'
  [1m[36mSQL (182.6ms)[0m  [1mALTER TABLE `users` CHANGE `salt` `password_salt` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.7ms)[0m  SHOW COLUMNS FROM `users` LIKE 'remember_token_expires_at'
  [1m[36mSQL (149.5ms)[0m  [1mALTER TABLE `users` CHANGE `remember_token_expires_at` `remember_created_at` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `users` LIKE 'login_count'
  [1m[36mSQL (149.4ms)[0m  [1mALTER TABLE `users` CHANGE `login_count` `sign_in_count` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'failed_login_count'
  [1m[36mSQL (148.5ms)[0m  [1mALTER TABLE `users` CHANGE `failed_login_count` `failed_attempts` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (1.9ms)[0m  SHOW COLUMNS FROM `users` LIKE 'single_access_token'
  [1m[36mSQL (150.6ms)[0m  [1mALTER TABLE `users` CHANGE `single_access_token` `reset_password_token` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'current_login_at'
  [1m[36mSQL (194.3ms)[0m  [1mALTER TABLE `users` CHANGE `current_login_at` `current_sign_in_at` datetime DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'last_login_at'
  [1m[36mSQL (171.6ms)[0m  [1mALTER TABLE `users` CHANGE `last_login_at` `last_sign_in_at` datetime DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'current_login_ip'
  [1m[36mSQL (149.3ms)[0m  [1mALTER TABLE `users` CHANGE `current_login_ip` `current_sign_in_ip` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'last_login_ip'
  [1m[36mSQL (149.9ms)[0m  [1mALTER TABLE `users` CHANGE `last_login_ip` `last_sign_in_ip` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (155.2ms)[0m  ALTER TABLE `users` ADD `authentication_token` varchar(255)
  [1m[36mSQL (122.1ms)[0m  [1mALTER TABLE `users` ADD `unlock_token` varchar(255)[0m
  [1m[35mSQL (123.4ms)[0m  ALTER TABLE `users` ADD `locked_at` datetime
  [1m[36mSQL (574.2ms)[0m  [1mALTER TABLE `users` DROP `api_key`[0m
  [1m[35mSQL (159.7ms)[0m  ALTER TABLE `users` DROP `openid_identifier`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101101185116')[0m
Migrating to DropAnonymousFieldForUser (20101103212716)
  [1m[35mSQL (356.6ms)[0m  ALTER TABLE `users` DROP `anonymous`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101103212716')[0m
Migrating to RenamedRmaCancelledState (20101111133551)
  [1m[35mSQL (1.9ms)[0m  SHOW TABLES
  [1m[36mReturnAuthorization Load (0.4ms)[0m  [1mSELECT `return_authorizations`.* FROM `return_authorizations` WHERE `return_authorizations`.`state` = 'cancelled'[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101111133551')
Migrating to FixProblematicIndexNames (20101117031806)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `preferences`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `preferences`
  [1m[36mSQL (155.0ms)[0m  [1mCREATE UNIQUE INDEX `ix_prefs_on_owner_attr_pref` ON `preferences` (`owner_id`, `owner_type`, `name`, `group_id`, `group_type`)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101117031806')
Migrating to ConvertUserRememberField (20101214150824)
  [1m[36mSQL (217.2ms)[0m  [1mALTER TABLE `users` DROP `remember_created_at`[0m
  [1m[35mSQL (178.4ms)[0m  ALTER TABLE `users` ADD `remember_created_at` datetime
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101214150824')[0m
Migrating to CreateTokenizedPermissions (20101217012656)
  [1m[35mSQL (102.0ms)[0m  CREATE TABLE `tokenized_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `permissable_id` int(11), `permissable_type` varchar(255), `token` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `tokenized_permissions`[0m
  [1m[35mSQL (151.6ms)[0m  CREATE INDEX `index_tokenized_name_and_type` ON `tokenized_permissions` (`permissable_id`, `permissable_type`)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101217012656')[0m
Migrating to TokensForLegacyOrders (20101219201531)
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101219201531')[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (5.2ms)[0m  [1mdescribe `addresses`[0m
  [1m[35mSQL (7.8ms)[0m  SHOW KEYS FROM `addresses`
  [1m[36mSQL (3.6ms)[0m  [1mdescribe `adjustments`[0m
  [1m[35mSQL (0.9ms)[0m  SHOW KEYS FROM `adjustments`
  [1m[36mSQL (3.0ms)[0m  [1mdescribe `assets`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `assets`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `calculators`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `calculators`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `configurations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `configurations`
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `countries`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `countries`
  [1m[36mSQL (3.3ms)[0m  [1mdescribe `creditcards`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `creditcards`
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `gateways`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `gateways`
  [1m[36mSQL (2.8ms)[0m  [1mdescribe `inventory_units`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `inventory_units`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `line_items`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `line_items`
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `log_entries`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `log_entries`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `mail_methods`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `mail_methods`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `option_types`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `option_types`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `option_types_prototypes`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `option_types_prototypes`
  [1m[36mSQL (2.4ms)[0m  [1mdescribe `option_values`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `option_values`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `option_values_variants`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `option_values_variants`
  [1m[36mSQL (3.3ms)[0m  [1mdescribe `orders`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `orders`
  [1m[36mSQL (3.3ms)[0m  [1mdescribe `payment_methods`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `payment_methods`
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `payments`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `payments`
  [1m[36mSQL (3.1ms)[0m  [1mdescribe `preferences`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `preferences`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `product_groups`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `product_groups`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `product_groups_products`
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `product_option_types`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `product_option_types`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `product_properties`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `product_properties`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `product_scopes`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `product_scopes`
  [1m[36mSQL (2.8ms)[0m  [1mdescribe `products`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `products`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `products_promotion_rules`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `products_promotion_rules`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `products_taxons`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `products_taxons`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `promotion_rules`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `promotion_rules`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `promotion_rules_users`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `promotion_rules_users`
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `promotions`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `promotions`
  [1m[36mSQL (2.0ms)[0m  [1mdescribe `properties`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `properties`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `properties_prototypes`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `properties_prototypes`
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `prototypes`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `prototypes`
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `return_authorizations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `return_authorizations`
  [1m[36mSQL (2.0ms)[0m  [1mdescribe `roles`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `roles`
  [1m[36mSQL (2.0ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `roles_users`
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `shipments`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `shipments`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `shipping_categories`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `shipping_categories`
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `shipping_methods`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `shipping_methods`
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `state_events`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `state_events`
  [1m[36mSQL (2.0ms)[0m  [1mdescribe `states`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `states`
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `tax_categories`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `tax_categories`
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `tax_rates`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `tax_rates`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `taxonomies`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `taxonomies`
  [1m[36mSQL (3.7ms)[0m  [1mdescribe `taxons`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `taxons`
  [1m[36mSQL (2.1ms)[0m  [1mdescribe `tokenized_permissions`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `tokenized_permissions`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `trackers`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `trackers`
  [1m[36mSQL (4.1ms)[0m  [1mdescribe `users`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `users`
  [1m[36mSQL (3.0ms)[0m  [1mdescribe `variants`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `variants`
  [1m[36mSQL (2.1ms)[0m  [1mdescribe `zone_members`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `zone_members`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `zones`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `zones`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (9.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.0ms)[0m  SHOW TABLES
  [1m[36mMailMethod Load (0.4ms)[0m  [1mSELECT `mail_methods`.* FROM `mail_methods` WHERE `mail_methods`.`environment` = 'development' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  describe `roles_users`
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (1.6ms)[0m  describe `products_taxons`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `option_values_variants`[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (2.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.7ms)[0m  describe `product_groups_products`
  [1m[36mSQL (2.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.0ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (4.2ms)[0m  SELECT COUNT(DISTINCT `users`.`id`) FROM `users` LEFT OUTER JOIN `roles_users` ON `roles_users`.`user_id` = `users`.`id` LEFT OUTER JOIN `roles` ON `roles`.`id` = `roles_users`.`role_id` WHERE `roles`.`name` = 'admin'
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`email` = 'stefano.verna@gmail.com' LIMIT 1
WARNING: Can't mass-assign protected attributes: login
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (40.2ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mSELECT COUNT(DISTINCT `roles`.`id`) FROM `roles` LEFT OUTER JOIN `roles_users` ON `roles_users`.`role_id` = `roles`.`id` LEFT OUTER JOIN `users` ON `users`.`id` = `roles_users`.`user_id` WHERE `roles`.`name` = 'admin'[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `roles`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `roles` (`name`) VALUES ('admin')
  [1m[36mSQL (4.1ms)[0m  [1mdescribe `users`[0m
  [1m[35mAREL (14.7ms)[0m  INSERT INTO `users` (`remember_token`, `updated_at`, `persistence_token`, `sign_in_count`, `perishable_token`, `current_sign_in_ip`, `authentication_token`, `password_salt`, `created_at`, `last_request_at`, `failed_attempts`, `remember_created_at`, `encrypted_password`, `email`, `unlock_token`, `current_sign_in_at`, `locked_at`, `login`, `last_sign_in_at`, `reset_password_token`, `last_sign_in_ip`, `bill_address_id`, `ship_address_id`) VALUES (NULL, '2011-09-27 20:35:42', NULL, 0, NULL, NULL, NULL, '2xZ93C0yTyxIMTo8cve4', '2011-09-27 20:35:42', NULL, 0, NULL, '83c9ace7e255fabf0c0182007543c31581e41b2598066b21f7a9365c1254e363ad6ad137431b33ae1945c67b946d7663b1b9a3f42b36d8ac21f2479b4bde7f29', 'stefano.verna@gmail.com', NULL, NULL, NULL, 'stefano.verna@gmail.com', NULL, NULL, NULL, NULL, NULL)
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `roles_users` (`user_id`, `role_id`) VALUES (1, 1)[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `roles_users` (`user_id`, `role_id`) VALUES (1, 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) AND (`users`.id <> 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) AND (`users`.id <> 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) AND (`users`.id <> 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSELECT COUNT(DISTINCT `roles`.`id`) FROM `roles` LEFT OUTER JOIN `roles_users` ON `roles_users`.`role_id` = `roles`.`id` LEFT OUTER JOIN `users` ON `users`.`id` = `roles_users`.`user_id` WHERE `roles`.`name` = 'admin'[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mMailMethod Load (0.4ms)[0m  [1mSELECT `mail_methods`.* FROM `mail_methods` WHERE `mail_methods`.`environment` = 'development' LIMIT 1[0m
  [1m[35mSQL (78.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (2.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (1.7ms)[0m  describe `product_groups_products`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `products_taxons`[0m
  [1m[35mSQL (1.7ms)[0m  describe `option_values_variants`
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.8ms)[0m  SHOW TABLES
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (3.0ms)[0m  [1mdescribe `products_promotion_rules`[0m
  [1m[35mSQL (3.1ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `promotion_rules_users`[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES


Started GET "/" for 127.0.0.1 at Tue Sep 27 22:35:57 +0200 2011
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (27.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (2.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (20.9ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  Processing by ProductsController#index as HTML
  [1m[35mSQL (3.3ms)[0m  SHOW TABLES
  [1m[36mAppConfiguration Load (0.6ms)[0m  [1mSELECT `configurations`.* FROM `configurations` WHERE `configurations`.`type` = 'AppConfiguration' AND `configurations`.`name` = 'Default configuration' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  BEGIN
  [1m[36mSQL (22.9ms)[0m  [1mSELECT 1 FROM `configurations` WHERE `configurations`.`type` = 'AppConfiguration' AND (`configurations`.`name` = BINARY 'Default configuration') LIMIT 1[0m
  [1m[35mSQL (2.3ms)[0m  describe `configurations`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `configurations` (`type`, `updated_at`, `name`, `created_at`) VALUES ('AppConfiguration', '2011-09-27 20:35:58', 'Default configuration', '2011-09-27 20:35:58')[0m
  [1m[35mSQL (12.1ms)[0m  COMMIT
  [1m[36mPreference Load (0.6ms)[0m  [1mSELECT `preferences`.* FROM `preferences` WHERE (`preferences`.owner_id = 1 AND `preferences`.owner_type = 'Configuration')[0m
  [1m[35mProduct Load (1.7ms)[0m  SELECT `products`.* FROM `products` WHERE (products.deleted_at is NULL) AND (products.available_on <= '2011-09-27 20:35:51')
Completed 500 Internal Server Error in 279ms

NoMethodError (undefined method `paginate' for []:Array):
  

Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (32.7ms)


Started GET "/" for 127.0.0.1 at Tue Sep 27 22:35:59 +0200 2011
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.6ms)[0m  SHOW TABLES
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (35.6ms)[0m  describe `roles_users`
  [1m[36mSQL (59.8ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (79.7ms)[0m  describe `products_taxons`
  [1m[36mSQL (35.6ms)[0m  [1mdescribe `option_values_variants`[0m
  [1m[35mSQL (8.7ms)[0m  SHOW TABLES
  [1m[36mSQL (3.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (29.1ms)[0m  describe `product_groups_products`
  [1m[36mSQL (2.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (12.8ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (33.9ms)[0m  [1mdescribe `products_promotion_rules`[0m
  [1m[35mSQL (3.5ms)[0m  describe `promotion_rules_users`
  [1m[36mSQL (2.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (8.6ms)[0m  SHOW TABLES
  [1m[36mSQL (2.7ms)[0m  [1mSHOW TABLES[0m
  Processing by ProductsController#index as 
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` WHERE (products.deleted_at is NULL) AND (products.available_on <= '2011-09-27 20:36:01')
Completed 500 Internal Server Error in 27ms

NoMethodError (undefined method `paginate' for []:Array):
  

Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/" for 127.0.0.1 at Tue Sep 27 22:36:46 +0200 2011
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.7ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.7ms)[0m  describe `roles_users`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (1.9ms)[0m  describe `products_taxons`
  [1m[36mSQL (2.4ms)[0m  [1mdescribe `option_values_variants`[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.6ms)[0m  describe `product_groups_products`
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.1ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `products_promotion_rules`[0m
  [1m[35mSQL (2.7ms)[0m  describe `promotion_rules_users`
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (1.3ms)[0m  SELECT `products`.* FROM `products` WHERE (products.deleted_at is NULL) AND (products.available_on <= '2011-09-27 20:36:47')
Completed 500 Internal Server Error in 20ms

NoMethodError (undefined method `paginate' for []:Array):
  

Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (38.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mMailMethod Load (0.3ms)[0m  [1mSELECT `mail_methods`.* FROM `mail_methods` WHERE `mail_methods`.`environment` = 'development' LIMIT 1[0m
  [1m[35mSQL (3.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (3.0ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (2.7ms)[0m  describe `product_groups_products`
  [1m[36mSQL (7.0ms)[0m  [1mdescribe `products_taxons`[0m
  [1m[35mSQL (1.7ms)[0m  describe `option_values_variants`
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `products_promotion_rules`[0m
  [1m[35mSQL (3.1ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (2.0ms)[0m  [1mdescribe `promotion_rules_users`[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
Mysql2::Error: Table 'antifasoul_development.roles_users' doesn't exist: describe `roles_users`
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `product_groups_products`[0m
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[35mSQL (1.3ms)[0m  describe `products_taxons`
Mysql2::Error: Table 'antifasoul_development.products_taxons' doesn't exist: describe `products_taxons`
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `option_values_variants`[0m
Mysql2::Error: Table 'antifasoul_development.option_values_variants' doesn't exist: describe `option_values_variants`
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.1ms)[0m  describe `product_groups_products`
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  describe `products_promotion_rules`
Mysql2::Error: Table 'antifasoul_development.products_promotion_rules' doesn't exist: describe `products_promotion_rules`
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (68.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (373.6ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.3ms)[0m  describe `roles_users`
Mysql2::Error: Table 'antifasoul_development.roles_users' doesn't exist: describe `roles_users`
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `product_groups_products`[0m
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[35mSQL (1.4ms)[0m  describe `products_taxons`
Mysql2::Error: Table 'antifasoul_development.products_taxons' doesn't exist: describe `products_taxons`
  [1m[36mSQL (2.1ms)[0m  [1mdescribe `option_values_variants`[0m
Mysql2::Error: Table 'antifasoul_development.option_values_variants' doesn't exist: describe `option_values_variants`
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.6ms)[0m  describe `product_groups_products`
Mysql2::Error: Table 'antifasoul_development.product_groups_products' doesn't exist: describe `product_groups_products`
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  describe `products_promotion_rules`
Mysql2::Error: Table 'antifasoul_development.products_promotion_rules' doesn't exist: describe `products_promotion_rules`
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations`
Migrating to SpreeZeroNineZero (20090823005402)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (99.9ms)[0m  CREATE TABLE `addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `firstname` varchar(255), `lastname` varchar(255), `address1` varchar(255), `address2` varchar(255), `city` varchar(255), `state_id` int(11), `zipcode` varchar(255), `country_id` int(11), `phone` varchar(255), `created_at` datetime, `updated_at` datetime, `state_name` varchar(255), `alternative_phone` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (188.1ms)[0m  CREATE TABLE `adjustments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `type` varchar(255), `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `description` varchar(255), `position` int(11), `created_at` datetime, `updated_at` datetime, `adjustment_source_id` int(11), `adjustment_source_type` varchar(255), `secondary_type` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (131.8ms)[0m  CREATE TABLE `assets` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `viewable_id` int(11), `viewable_type` varchar(50), `attachment_content_type` varchar(255), `attachment_file_name` varchar(255), `attachment_size` int(11), `position` int(11), `type` varchar(75), `attachment_updated_at` datetime, `attachment_width` int(11), `attachment_height` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (133.6ms)[0m  CREATE TABLE `calculators` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `calculable_id` int(11) NOT NULL, `calculable_type` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (130.9ms)[0m  CREATE TABLE `checkouts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `email` varchar(255), `ip_address` varchar(255), `special_instructions` text, `bill_address_id` int(11), `completed_at` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (134.0ms)[0m  CREATE TABLE `configurations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime, `type` varchar(50)) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `configurations`[0m
  [1m[35mSQL (127.6ms)[0m  CREATE INDEX `index_configurations_on_name_and_type` ON `configurations` (`name`, `type`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (101.8ms)[0m  CREATE TABLE `countries` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `iso_name` varchar(255), `iso` varchar(255), `name` varchar(255), `iso3` varchar(255), `numcode` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (165.6ms)[0m  CREATE TABLE `coupons` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(255), `description` varchar(255), `usage_limit` int(11), `combine` tinyint(1), `expires_at` datetime, `created_at` datetime, `updated_at` datetime, `starts_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (121.4ms)[0m  CREATE TABLE `creditcard_txns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `creditcard_payment_id` int(11), `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `txn_type` int(11), `response_code` varchar(255), `avs_response` text, `cvv_response` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (120.6ms)[0m  CREATE TABLE `creditcards` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `number` text, `month` varchar(255), `year` varchar(255), `verification_value` text, `cc_type` varchar(255), `display_number` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `created_at` datetime, `updated_at` datetime, `start_month` varchar(255), `start_year` varchar(255), `issue_number` varchar(255), `address_id` int(11), `checkout_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (144.7ms)[0m  CREATE TABLE `gateway_configurations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gateway_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (121.7ms)[0m  CREATE TABLE `gateway_option_values` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gateway_configuration_id` int(11), `gateway_option_id` int(11), `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (120.6ms)[0m  CREATE TABLE `gateway_options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `gateway_id` int(11), `textarea` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (121.0ms)[0m  CREATE TABLE `gateways` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `clazz` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (120.4ms)[0m  CREATE TABLE `inventory_units` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `variant_id` int(11), `order_id` int(11), `state` varchar(255), `lock_version` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (121.4ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `variant_id` int(11), `quantity` int(11) NOT NULL, `price` decimal(8,2) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `line_items`[0m
  [1m[35mSQL (160.9ms)[0m  CREATE INDEX `index_line_items_on_order_id` ON `line_items` (`order_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `line_items`[0m
  [1m[35mSQL (146.2ms)[0m  CREATE INDEX `index_line_items_on_variant_id` ON `line_items` (`variant_id`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (180.7ms)[0m  CREATE TABLE `option_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(100), `presentation` varchar(100), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (187.7ms)[0m  CREATE TABLE `option_types_prototypes` (`prototype_id` int(11), `option_type_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (132.0ms)[0m  CREATE TABLE `option_values` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `option_type_id` int(11), `name` varchar(255), `position` int(11), `presentation` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (121.1ms)[0m  CREATE TABLE `option_values_variants` (`variant_id` int(11), `option_value_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `option_values_variants`[0m
  [1m[35mSQL (161.2ms)[0m  CREATE INDEX `index_option_values_variants_on_variant_id` ON `option_values_variants` (`variant_id`)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (140.5ms)[0m  CREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `number` varchar(15), `item_total` decimal(8,2) DEFAULT 0.0 NOT NULL, `total` decimal(8,2) DEFAULT 0.0 NOT NULL, `created_at` datetime, `updated_at` datetime, `state` varchar(255), `token` varchar(255), `adjustment_total` decimal(8,2) DEFAULT 0.0 NOT NULL, `credit_total` decimal(8,2) DEFAULT 0.0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `orders`[0m
  [1m[35mSQL (218.0ms)[0m  CREATE INDEX `index_orders_on_number` ON `orders` (`number`)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (112.7ms)[0m  CREATE TABLE `payments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `created_at` datetime, `updated_at` datetime, `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `creditcard_id` int(11), `type` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (186.9ms)[0m  CREATE TABLE `preferences` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `attribute` varchar(100) NOT NULL, `owner_id` integer NOT NULL, `owner_type` varchar(50) NOT NULL, `group_id` int(11), `group_type` varchar(50), `value` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `preferences`[0m
  [1m[35mSQL (118.5ms)[0m  CREATE UNIQUE INDEX `index_preferences_on_owner_and_attribute_and_preference` ON `preferences` (`owner_id`, `owner_type`, `attribute`, `group_id`, `group_type`)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (114.0ms)[0m  CREATE TABLE `product_option_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `option_type_id` int(11), `position` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (197.1ms)[0m  CREATE TABLE `product_properties` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `property_id` int(11), `value` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (152.4ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT '' NOT NULL, `description` text, `created_at` datetime, `updated_at` datetime, `permalink` varchar(255), `available_on` datetime, `tax_category_id` int(11), `shipping_category_id` int(11), `deleted_at` datetime, `meta_description` varchar(255), `meta_keywords` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `products`[0m
  [1m[35mSQL (154.2ms)[0m  CREATE INDEX `index_products_on_available_on` ON `products` (`available_on`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `products`[0m
  [1m[35mSQL (154.4ms)[0m  CREATE INDEX `index_products_on_deleted_at` ON `products` (`deleted_at`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `products`[0m
  [1m[35mSQL (251.1ms)[0m  CREATE INDEX `index_products_on_name` ON `products` (`name`)
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `products`[0m
  [1m[35mSQL (216.8ms)[0m  CREATE INDEX `index_products_on_permalink` ON `products` (`permalink`)
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (179.3ms)[0m  CREATE TABLE `products_taxons` (`product_id` int(11), `taxon_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `products_taxons`[0m
  [1m[35mSQL (207.5ms)[0m  CREATE INDEX `index_products_taxons_on_product_id` ON `products_taxons` (`product_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `products_taxons`[0m
  [1m[35mSQL (142.6ms)[0m  CREATE INDEX `index_products_taxons_on_taxon_id` ON `products_taxons` (`taxon_id`)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (193.9ms)[0m  CREATE TABLE `properties` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `presentation` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (219.6ms)[0m  CREATE TABLE `properties_prototypes` (`prototype_id` int(11), `property_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (163.6ms)[0m  CREATE TABLE `prototypes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (165.2ms)[0m  CREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (132.9ms)[0m  CREATE TABLE `roles_users` (`role_id` int(11), `user_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `roles_users`[0m
  [1m[35mSQL (131.4ms)[0m  CREATE INDEX `index_roles_users_on_role_id` ON `roles_users` (`role_id`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `roles_users`[0m
  [1m[35mSQL (134.5ms)[0m  CREATE INDEX `index_roles_users_on_user_id` ON `roles_users` (`user_id`)
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (189.5ms)[0m  CREATE TABLE `shipments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `shipping_method_id` int(11), `tracking` varchar(255), `created_at` datetime, `updated_at` datetime, `number` varchar(255), `cost` decimal(8,2), `shipped_at` datetime, `address_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (186.9ms)[0m  CREATE TABLE `shipping_categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (120.2ms)[0m  CREATE TABLE `shipping_methods` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `zone_id` int(11), `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (121.3ms)[0m  CREATE TABLE `state_events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `order_id` int(11), `user_id` int(11), `name` varchar(255), `created_at` datetime, `updated_at` datetime, `previous_state` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (131.9ms)[0m  CREATE TABLE `states` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `country_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (131.1ms)[0m  CREATE TABLE `tax_categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (108.8ms)[0m  CREATE TABLE `tax_rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `zone_id` int(11), `amount` decimal(8,4), `created_at` datetime, `updated_at` datetime, `tax_category_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (109.7ms)[0m  CREATE TABLE `taxonomies` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (109.0ms)[0m  CREATE TABLE `taxons` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `taxonomy_id` int(11) NOT NULL, `parent_id` int(11), `position` int(11) DEFAULT 0, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `permalink` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (119.1ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255), `crypted_password` varchar(128) DEFAULT '' NOT NULL, `salt` varchar(128) DEFAULT '' NOT NULL, `remember_token` varchar(255), `remember_token_expires_at` varchar(255), `created_at` datetime, `updated_at` datetime, `persistence_token` varchar(255), `single_access_token` varchar(255), `perishable_token` varchar(255), `login_count` int(11) DEFAULT 0 NOT NULL, `failed_login_count` int(11) DEFAULT 0 NOT NULL, `last_request_at` datetime, `current_login_at` datetime, `last_login_at` datetime, `current_login_ip` varchar(255), `last_login_ip` varchar(255), `login` varchar(255), `ship_address_id` int(11), `bill_address_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (110.2ms)[0m  CREATE TABLE `variants` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `sku` varchar(255) DEFAULT '' NOT NULL, `price` decimal(8,2) NOT NULL, `weight` decimal(8,2), `height` decimal(8,2), `width` decimal(8,2), `depth` decimal(8,2), `deleted_at` datetime, `is_master` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `variants`[0m
  [1m[35mSQL (130.6ms)[0m  CREATE INDEX `index_variants_on_product_id` ON `variants` (`product_id`)
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (113.0ms)[0m  CREATE TABLE `zone_members` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `zone_id` int(11), `zoneable_id` int(11), `zoneable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (186.6ms)[0m  CREATE TABLE `zones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20090823005402')[0m
Migrating to CreateIndexesForInventoryUnits (20090904192342)
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `inventory_units`
  [1m[36mSQL (134.5ms)[0m  [1mCREATE INDEX `index_inventory_units_on_variant_id` ON `inventory_units` (`variant_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `inventory_units`
  [1m[36mSQL (157.4ms)[0m  [1mCREATE INDEX `index_inventory_units_on_order_id` ON `inventory_units` (`order_id`)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20090904192342')
Migrating to AddCountOnHandToVariantsAndProducts (20090923100315)
  [1m[36mSQL (155.7ms)[0m  [1mALTER TABLE `variants` ADD `count_on_hand` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (167.3ms)[0m  ALTER TABLE `products` ADD `count_on_hand` int(11) DEFAULT 0 NOT NULL
  [1m[36mVariant Load (0.5ms)[0m  [1mSELECT `variants`.* FROM `variants`[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20090923100315')[0m
Migrating to ChangeTaxonsToNestedSet (20091007134354)
  [1m[35mSQL (125.6ms)[0m  ALTER TABLE `taxons` ADD `lft` int(11)
  [1m[36mSQL (192.0ms)[0m  [1mALTER TABLE `taxons` ADD `rgt` int(11)[0m
  [1m[35mSQL (2.3ms)[0m  describe `products_taxons`
  [1m[36mSQL (52.2ms)[0m  [1mdescribe `properties_prototypes`[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mProperty Load (0.4ms)[0m  SELECT `properties`.* FROM `properties` WHERE `properties`.`name` = 'brand' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mTaxon Load (0.4ms)[0m  SELECT `taxons`.* FROM `taxons` WHERE (parent_id IS NULL) ORDER BY position ASC
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091007134354')[0m
Migrating to MoveToConfigurableGateways (20091008091614)
  [1m[35mSQL (25.2ms)[0m  DROP TABLE `gateways`
  [1m[36mSQL (22.9ms)[0m  [1mDROP TABLE `gateway_options`[0m
  [1m[35mSQL (1.6ms)[0m  DROP TABLE `gateway_option_values`
  [1m[36mSQL (1.1ms)[0m  [1mDROP TABLE `gateway_configurations`[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (307.4ms)[0m  [1mCREATE TABLE `gateways` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1) DEFAULT 1, `environment` varchar(255) DEFAULT 'development', `server` varchar(255) DEFAULT 'test', `test_mode` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091008091614')
Migrating to ProductGroupsAndScopes (20091012120519)
  [1m[36mSQL (161.0ms)[0m  [1mCREATE TABLE `product_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255), `order` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (155.4ms)[0m  CREATE TABLE `product_scopes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_group_id` int(11), `name` varchar(255), `arguments` text) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `product_groups`[0m
  [1m[35mSQL (129.1ms)[0m  CREATE INDEX `index_product_groups_on_name` ON `product_groups` (`name`)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW KEYS FROM `product_groups`[0m
  [1m[35mSQL (134.1ms)[0m  CREATE INDEX `index_product_groups_on_permalink` ON `product_groups` (`permalink`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `product_scopes`[0m
  [1m[35mSQL (200.5ms)[0m  CREATE INDEX `index_product_scopes_on_name` ON `product_scopes` (`name`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `product_scopes`[0m
  [1m[35mSQL (188.6ms)[0m  CREATE INDEX `index_product_scopes_on_product_group_id` ON `product_scopes` (`product_group_id`)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091012120519')[0m
Migrating to AddOpenIdAuthenticationTables (20091015110842)
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (173.5ms)[0m  [1mCREATE TABLE `open_id_authentication_associations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `issued` int(11), `lifetime` int(11), `handle` varchar(255), `assoc_type` varchar(255), `server_url` blob, `secret` blob) ENGINE=InnoDB[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (186.6ms)[0m  [1mCREATE TABLE `open_id_authentication_nonces` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `timestamp` int(11) NOT NULL, `server_url` varchar(255), `salt` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091015110842')
Migrating to AddOpenidFieldToUsers (20091015153048)
  [1m[36mSQL (121.1ms)[0m  [1mALTER TABLE `users` ADD `openid_identifier` varchar(255)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `users`
  [1m[36mSQL (170.8ms)[0m  [1mCREATE INDEX `index_users_on_openid_identifier` ON `users` (`openid_identifier`)[0m
  [1m[35mSQL (132.3ms)[0m  ALTER TABLE `users` CHANGE `login` `login` varchar(255) DEFAULT NULL
  [1m[36mSQL (177.1ms)[0m  [1mALTER TABLE `users` CHANGE `crypted_password` `crypted_password` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (173.1ms)[0m  ALTER TABLE `users` CHANGE `salt` `salt` varchar(255) DEFAULT NULL
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091015153048')[0m
Migrating to ChangePreferenceValueType (20091016174634)
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `preferences`
  [1m[36mSQL (170.1ms)[0m  [1mDROP INDEX `index_preferences_on_owner_and_attribute_and_preference` ON `preferences`[0m
  [1m[35mSQL (176.9ms)[0m  ALTER TABLE `preferences` CHANGE `value` `value` text DEFAULT NULL
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091016174634')[0m
Migrating to CreateBillingIntegrations (20091017175558)
  [1m[35mSQL (168.9ms)[0m  CREATE TABLE `billing_integrations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1) DEFAULT 1, `environment` varchar(255) DEFAULT 'development', `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091017175558')[0m
Migrating to ChargeRefactoring (20091021133257)
  [1m[35mSQL (174.0ms)[0m  ALTER TABLE `orders` ADD `completed_at` datetime
  [1m[36mChargeRefactoring::Order Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders`[0m
  [1m[35mSQL (153.3ms)[0m  ALTER TABLE `checkouts` DROP `completed_at`
  [1m[36mSQL (141.9ms)[0m  [1mALTER TABLE `adjustments` CHANGE `amount` `amount` decimal(8,2) DEFAULT NULL[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `adjustments` SET type = secondary_type[0m
  [1m[35mAREL (0.1ms)[0m  UPDATE `adjustments` SET type = 'CouponCredit' WHERE (type = 'Credit')
  [1m[36mSQL (151.1ms)[0m  [1mALTER TABLE `adjustments` DROP `secondary_type`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091021133257')
Migrating to AddSomeIndexes (20091104151730)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `taxons`[0m
  [1m[35mSQL (168.6ms)[0m  CREATE INDEX `index_taxons_on_permalink` ON `taxons` (`permalink`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `taxons`[0m
  [1m[35mSQL (144.1ms)[0m  CREATE INDEX `index_taxons_on_parent_id` ON `taxons` (`parent_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `taxons`[0m
  [1m[35mSQL (223.2ms)[0m  CREATE INDEX `index_taxons_on_taxonomy_id` ON `taxons` (`taxonomy_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `assets`[0m
  [1m[35mSQL (198.7ms)[0m  CREATE INDEX `index_assets_on_viewable_id` ON `assets` (`viewable_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `assets`[0m
  [1m[35mSQL (200.9ms)[0m  CREATE INDEX `index_assets_on_viewable_type_and_type` ON `assets` (`viewable_type`, `type`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `product_properties`[0m
  [1m[35mSQL (165.8ms)[0m  CREATE INDEX `index_product_properties_on_product_id` ON `product_properties` (`product_id`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `option_values_variants`[0m
  [1m[35mSQL (166.5ms)[0m  CREATE INDEX `index_option_values_variants_on_variant_id_and_option_value_id` ON `option_values_variants` (`variant_id`, `option_value_id`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091104151730')[0m
Migrating to CheckoutStateMachine (20091126190904)
  [1m[35mSQL (189.4ms)[0m  ALTER TABLE `checkouts` ADD `state` varchar(255)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091126190904')[0m
Migrating to StateForShipments (20091209153045)
  [1m[35mSQL (172.5ms)[0m  ALTER TABLE `shipments` ADD `state` varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20091209153045')[0m
Migrating to MakeStateEventsPolymorphic (20091209202200)
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `state_events` LIKE 'order_id'
  [1m[36mSQL (149.5ms)[0m  [1mALTER TABLE `state_events` CHANGE `order_id` `stateful_id` int(11) DEFAULT NULL[0m
  [1m[35mSQL (155.6ms)[0m  ALTER TABLE `state_events` ADD `stateful_type` varchar(255)
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `state_events` SET `stateful_type` = 'Order'[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091209202200')
Migrating to ShipAddressIdForCheckouts (20091211203813)
  [1m[36mSQL (156.0ms)[0m  [1mALTER TABLE `checkouts` ADD `ship_address_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091211203813')
Migrating to ShippingMethodIdForCheckouts (20091212161118)
  [1m[36mSQL (204.2ms)[0m  [1mALTER TABLE `checkouts` ADD `shipping_method_id` int(11)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091212161118')
Migrating to CreditcardLastFourDigits (20091213222815)
  [1m[36mSQL (1.6ms)[0m  [1mSHOW COLUMNS FROM `creditcards` LIKE 'display_number'[0m
  [1m[35mSQL (188.6ms)[0m  ALTER TABLE `creditcards` CHANGE `display_number` `last_digits` varchar(255) DEFAULT NULL
  [1m[36mCreditcardLastFourDigits::Creditcard Load (0.6ms)[0m  [1mSELECT `creditcards`.* FROM `creditcards`[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091213222815')
Migrating to PopulateLegacyShipmentState (20091214183826)
  [1m[36mPopulateLegacyShipmentState::Shipment Load (0.5ms)[0m  [1mSELECT `shipments`.* FROM `shipments`[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20091214183826')
Migrating to AddCostPrice (20100105090147)
  [1m[36mSQL (143.6ms)[0m  [1mALTER TABLE `variants` ADD `cost_price` decimal(8,2) DEFAULT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100105090147')
Migrating to ShipmentIdForInventoryUnits (20100105132138)
  [1m[36mSQL (151.1ms)[0m  [1mALTER TABLE `inventory_units` ADD `shipment_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `inventory_units`
  [1m[36mSQL (159.9ms)[0m  [1mCREATE INDEX `index_inventory_units_on_shipment_id` ON `inventory_units` (`shipment_id`)[0m
  [1m[35mShipment Load (0.6ms)[0m  SELECT `shipments`.* FROM `shipments`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100105132138')[0m
Migrating to AddApiKeyToUsers (20100107141738)
  [1m[35mSQL (123.1ms)[0m  ALTER TABLE `users` ADD `api_key` varchar(40)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100107141738')[0m
Migrating to CimFieldsForCreditcards (20100111205525)
  [1m[35mSQL (173.9ms)[0m  ALTER TABLE `creditcards` ADD `gateway_customer_profile_id` varchar(255)
  [1m[36mSQL (191.0ms)[0m  [1mALTER TABLE `creditcards` ADD `gateway_payment_profile_id` varchar(255)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100111205525')
Migrating to CreateReturnAuthorizations (20100112151511)
  [1m[36mSQL (189.8ms)[0m  [1mCREATE TABLE `return_authorizations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `number` varchar(255), `amount` decimal(8,2) DEFAULT 0.0 NOT NULL, `order_id` int(11), `reason` text, `state` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100112151511')
Migrating to AddReturnAuthorizationToInventoryUnits (20100113090919)
  [1m[36mSQL (186.1ms)[0m  [1mALTER TABLE `inventory_units` ADD `return_authorization_id` int(11)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100113090919')
Migrating to CreateTrackers (20100113203104)
  [1m[36mSQL (169.7ms)[0m  [1mCREATE TABLE `trackers` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `environment` varchar(255), `analytics_id` varchar(255), `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100113203104')
Migrating to CreditcardIdForCreditcardTxns (20100121160010)
  [1m[36mSQL (153.4ms)[0m  [1mALTER TABLE `creditcard_txns` ADD `creditcard_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100121160010')
Migrating to OriginalCreditcardTxnIdForCreditcardTxns (20100121183934)
  [1m[36mSQL (161.5ms)[0m  [1mALTER TABLE `creditcard_txns` ADD `original_creditcard_txn_id` int(11)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100121183934')
Migrating to AddTestModeToBillingIntegration (20100125145351)
  [1m[36mSQL (151.3ms)[0m  [1mALTER TABLE `billing_integrations` ADD `test_mode` tinyint(1) DEFAULT 1[0m
  [1m[35mSQL (154.8ms)[0m  ALTER TABLE `billing_integrations` ADD `server` varchar(255) DEFAULT 'test'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100125145351')[0m
Migrating to CreateProductsProductGroups (20100126103714)
  [1m[35mSQL (128.0ms)[0m  CREATE TABLE `product_groups_products` (`product_id` int(11), `product_group_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100126103714')[0m
Migrating to CreatePaymentMethods (20100209025806)
  [1m[35mSQL (150.0ms)[0m  CREATE TABLE `payment_methods` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `name` varchar(255), `description` text, `active` tinyint(1) DEFAULT 1, `environment` varchar(255) DEFAULT 'development', `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100209025806')[0m
Migrating to PolymorphicPayments (20100209144531)
  [1m[35mSQL (165.4ms)[0m  ALTER TABLE `payments` DROP `type`
  [1m[36mSQL (144.8ms)[0m  [1mALTER TABLE `payments` DROP `creditcard_id`[0m
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `payments` LIKE 'order_id'
  [1m[36mSQL (153.3ms)[0m  [1mALTER TABLE `payments` CHANGE `order_id` `payable_id` int(11) DEFAULT NULL[0m
  [1m[35mSQL (155.4ms)[0m  ALTER TABLE `payments` ADD `payable_type` varchar(255)
  [1m[36mSQL (121.8ms)[0m  [1mALTER TABLE `payments` ADD `payment_method` varchar(255)[0m
  [1m[35mSQL (124.1ms)[0m  ALTER TABLE `payments` ADD `source_id` int(11)
  [1m[36mSQL (144.2ms)[0m  [1mALTER TABLE `payments` ADD `source_type` varchar(255)[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE payments SET payable_type = 'Order'
  [1m[36mCreditcard Load (0.6ms)[0m  [1mSELECT `creditcards`.* FROM `creditcards`[0m
  [1m[35mSQL (168.7ms)[0m  ALTER TABLE `creditcards` DROP `checkout_id`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100209144531')[0m
Migrating to ChangePaymentsPaymentMethodToBelongsTo (20100213103131)
  [1m[35mSQL (182.2ms)[0m  ALTER TABLE `payments` DROP `payment_method`
  [1m[36mSQL (612.0ms)[0m  [1mALTER TABLE `payments` ADD `payment_method_id` int(11)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100213103131')
Migrating to AssignCreditcardTxnsToPayment (20100214212536)
  [1m[36mSQL (196.2ms)[0m  [1mALTER TABLE `creditcard_txns` ADD `payment_id` int(11)[0m
  [1m[35mSQL (0.7ms)[0m  SELECT * FROM creditcard_txns
  [1m[36mSQL (247.2ms)[0m  [1mALTER TABLE `creditcard_txns` DROP `creditcard_payment_id`[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100214212536')
Migrating to StiForTransactions (20100223170312)
  [1m[36mSQL (1.2ms)[0m  [1mRENAME TABLE `creditcard_txns` TO `transactions`[0m
  [1m[35mSQL (84.5ms)[0m  ALTER TABLE `transactions` ADD `type` varchar(255)
  [1m[36mSQL (166.5ms)[0m  [1mALTER TABLE `transactions` DROP `creditcard_id`[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100223170312')
Migrating to DropBillingIntegrations (20100223183812)
  [1m[36mSQL (1.6ms)[0m  [1mDROP TABLE `billing_integrations`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100223183812')
Migrating to DeletedAtForPaymentMethods (20100224153127)
  [1m[36mSQL (133.1ms)[0m  [1mALTER TABLE `payment_methods` ADD `deleted_at` datetime DEFAULT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100224153127')
Migrating to AddAdjustmentsIndex (20100301163454)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `adjustments`[0m
  [1m[35mSQL (165.3ms)[0m  CREATE INDEX `index_adjustments_on_order_id` ON `adjustments` (`order_id`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100301163454')[0m
Migrating to FixByPopularity (20100306153445)
  [1m[35mAREL (0.3ms)[0m  UPDATE `product_scopes` SET name='descend_by_popularity' WHERE (name='by_popularity')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100306153445')[0m
Migrating to AddAltTextToImages (20100317120946)
  [1m[35mSQL (131.6ms)[0m  ALTER TABLE `assets` ADD `alt` text
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100317120946')[0m
Migrating to RenameCouponsToPromotions (20100419190933)
  [1m[35mSQL (0.3ms)[0m  DROP TABLE IF EXISTS promotions
  [1m[36mSQL (1.2ms)[0m  [1mRENAME TABLE `coupons` TO `promotions`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100419190933')
Migrating to FixExistingCouponCredits (20100419194457)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE adjustments SET type='PromotionCredit' WHERE type='CouponCredit'[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE adjustments SET adjustment_source_type='Promotion' WHERE adjustment_source_type='Coupon'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100419194457')[0m
Migrating to CreatePromotionRules (20100426100726)
  [1m[35mSQL (155.4ms)[0m  CREATE TABLE `promotion_rules` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `promotion_id` int(11), `user_id` int(11), `product_group_id` int(11), `created_at` datetime, `updated_at` datetime, `type` varchar(255)) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `promotion_rules`[0m
  [1m[35mSQL (149.7ms)[0m  CREATE INDEX `index_promotion_rules_on_product_group_id` ON `promotion_rules` (`product_group_id`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `promotion_rules`[0m
  [1m[35mSQL (124.9ms)[0m  CREATE INDEX `index_promotion_rules_on_user_id` ON `promotion_rules` (`user_id`)
  [1m[36mSQL (183.2ms)[0m  [1mCREATE TABLE `products_promotion_rules` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `promotion_rule_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (189.9ms)[0m  ALTER TABLE `products_promotion_rules` DROP `id`
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `products_promotion_rules`[0m
  [1m[35mSQL (116.5ms)[0m  CREATE INDEX `index_products_promotion_rules_on_product_id` ON `products_promotion_rules` (`product_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `products_promotion_rules`[0m
  [1m[35mSQL (122.2ms)[0m  CREATE INDEX `index_products_promotion_rules_on_promotion_rule_id` ON `products_promotion_rules` (`promotion_rule_id`)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100426100726')[0m
Migrating to AddDisplayToPaymentMethods (20100427121301)
  [1m[35mSQL (200.6ms)[0m  ALTER TABLE `payment_methods` ADD `display` varchar(255) DEFAULT NULL
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100427121301')[0m
Migrating to MatchPolicyForPromotions (20100501084722)
  [1m[35mSQL (183.4ms)[0m  ALTER TABLE `promotions` ADD `match_policy` varchar(255) DEFAULT 'all'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100501084722')[0m
Migrating to CreatePromotionRulesUsers (20100501095202)
  [1m[35mSQL (332.2ms)[0m  CREATE TABLE `promotion_rules_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `promotion_rule_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (194.6ms)[0m  [1mALTER TABLE `promotion_rules_users` DROP `id`[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `promotion_rules_users`
  [1m[36mSQL (126.2ms)[0m  [1mCREATE INDEX `index_promotion_rules_users_on_user_id` ON `promotion_rules_users` (`user_id`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `promotion_rules_users`
  [1m[36mSQL (158.0ms)[0m  [1mCREATE INDEX `index_promotion_rules_users_on_promotion_rule_id` ON `promotion_rules_users` (`promotion_rule_id`)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100501095202')
Migrating to NameForPromotions (20100502163939)
  [1m[36mSQL (188.2ms)[0m  [1mALTER TABLE `promotions` ADD `name` varchar(255)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100502163939')
Migrating to AddAddressesCheckoutsIndexes (20100504142133)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `addresses`[0m
  [1m[35mSQL (197.9ms)[0m  CREATE INDEX `index_addresses_on_firstname` ON `addresses` (`firstname`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `addresses`[0m
  [1m[35mSQL (144.0ms)[0m  CREATE INDEX `index_addresses_on_lastname` ON `addresses` (`lastname`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `checkouts`[0m
  [1m[35mSQL (155.5ms)[0m  CREATE INDEX `index_checkouts_on_order_id` ON `checkouts` (`order_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `checkouts`[0m
  [1m[35mSQL (187.9ms)[0m  CREATE INDEX `index_checkouts_on_bill_address_id` ON `checkouts` (`bill_address_id`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100504142133')[0m
Migrating to AddIconToTaxons (20100506180619)
  [1m[35mSQL (191.3ms)[0m  ALTER TABLE `taxons` ADD `icon_file_name` varchar(255)
  [1m[36mSQL (188.7ms)[0m  [1mALTER TABLE `taxons` ADD `icon_content_type` varchar(255)[0m
  [1m[35mSQL (133.6ms)[0m  ALTER TABLE `taxons` ADD `icon_file_size` int(11)
  [1m[36mSQL (133.7ms)[0m  [1mALTER TABLE `taxons` ADD `icon_updated_at` datetime[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100506180619')
Migrating to AddDescriptionToTaxons (20100506185838)
  [1m[36mSQL (125.9ms)[0m  [1mALTER TABLE `taxons` ADD `description` text[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100506185838')
Migrating to IndexForShipmentsNumber (20100528155333)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `shipments`[0m
  [1m[35mSQL (155.4ms)[0m  CREATE INDEX `index_shipments_on_number` ON `shipments` (`number`)
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100528155333')[0m
Migrating to AddIndexOnUsersPersistenceToken (20100528185820)
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `users`
  [1m[36mSQL (183.0ms)[0m  [1mCREATE INDEX `index_users_on_persistence_token` ON `users` (`persistence_token`)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100528185820')
Migrating to AddDefaultToTaxCategories (20100605152042)
  [1m[36mSQL (179.5ms)[0m  [1mALTER TABLE `tax_categories` ADD `is_default` tinyint(1) DEFAULT 0[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100605152042')
Migrating to AddDisplayToShippingMethods (20100624110730)
  [1m[36mSQL (194.6ms)[0m  [1mALTER TABLE `shipping_methods` ADD `display_on` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100624110730')
Migrating to RenamePaymentMethodDisplay (20100624123336)
  [1m[36mSQL (1.5ms)[0m  [1mSHOW COLUMNS FROM `payment_methods` LIKE 'display'[0m
  [1m[35mSQL (155.3ms)[0m  ALTER TABLE `payment_methods` CHANGE `display` `display_on` varchar(255) DEFAULT NULL
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100624123336')[0m
Migrating to RenamePreferencesField (20100624175547)
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `preferences` LIKE 'attribute'
  [1m[36mSQL (156.5ms)[0m  [1mALTER TABLE `preferences` CHANGE `attribute` `name` varchar(100) NOT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100624175547')
Migrating to AddGuestFlag (20100811163637)
  [1m[36mSQL (162.8ms)[0m  [1mALTER TABLE `users` ADD `guest` tinyint(1)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100811163637')
Migrating to DropOrderToken (20100811205836)
  [1m[36mSQL (193.0ms)[0m  [1mALTER TABLE `orders` DROP `token`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100811205836')
Migrating to PaymentsStateAndAssignedToOrderOnly (20100812162326)
  [1m[36mSQL (1.5ms)[0m  [1mSHOW COLUMNS FROM `payments` LIKE 'payable_id'[0m
  [1m[35mSQL (157.5ms)[0m  ALTER TABLE `payments` CHANGE `payable_id` `order_id` int(11) DEFAULT NULL
  [1m[36mSQL (155.9ms)[0m  [1mALTER TABLE `payments` DROP `payable_type`[0m
  [1m[35mSQL (123.0ms)[0m  ALTER TABLE `payments` ADD `state` varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100812162326')[0m
Migrating to CreateAddressKeysForOrder (20100813023502)
  [1m[35mSQL (128.7ms)[0m  ALTER TABLE `orders` ADD `bill_address_id` int(11)
  [1m[36mSQL (167.9ms)[0m  [1mALTER TABLE `orders` ADD `ship_address_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100813023502')
Migrating to PaymentTotalForOrders (20100813185745)
  [1m[36mSQL (171.2ms)[0m  [1mALTER TABLE `orders` ADD `payment_total` decimal(8,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100813185745')
Migrating to ShippingMethodIdForOrders (20100816212146)
  [1m[36mSQL (160.4ms)[0m  [1mALTER TABLE `orders` ADD `shipping_method_id` int(11)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100816212146')
Migrating to AddShipmentAndPaymentState (20100817152723)
  [1m[36mSQL (161.8ms)[0m  [1mALTER TABLE `orders` ADD `shipment_state` varchar(255)[0m
  [1m[35mSQL (166.6ms)[0m  ALTER TABLE `orders` ADD `payment_state` varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100817152723')[0m
Migrating to RefactorAdjustments (20100819170125)
  [1m[35mSQL (128.3ms)[0m  ALTER TABLE `adjustments` ADD `mandatory` tinyint(1)
  [1m[36mSQL (155.5ms)[0m  [1mALTER TABLE `adjustments` ADD `frozen` tinyint(1)[0m
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `adjustments` LIKE 'adjustment_source_id'
  [1m[36mSQL (162.5ms)[0m  [1mALTER TABLE `adjustments` CHANGE `adjustment_source_id` `source_id` int(11) DEFAULT NULL[0m
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `adjustments` LIKE 'adjustment_source_type'
  [1m[36mSQL (143.3ms)[0m  [1mALTER TABLE `adjustments` CHANGE `adjustment_source_type` `source_type` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (154.6ms)[0m  ALTER TABLE `adjustments` ADD `originator_id` int(11)
  [1m[36mSQL (133.8ms)[0m  [1mALTER TABLE `adjustments` ADD `originator_type` varchar(255)[0m
  [1m[35mSQL (122.9ms)[0m  ALTER TABLE `adjustments` DROP `type`
  [1m[36mSQL (1.7ms)[0m  [1mSHOW COLUMNS FROM `adjustments` LIKE 'description'[0m
  [1m[35mSQL (128.1ms)[0m  ALTER TABLE `adjustments` CHANGE `description` `label` varchar(255) DEFAULT NULL
  [1m[36mSQL (158.3ms)[0m  [1mALTER TABLE `adjustments` DROP `position`[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100819170125')
Migrating to ResponseCodeAndAvsResponseForPayments (20100820135707)
  [1m[36mSQL (182.7ms)[0m  [1mALTER TABLE `payments` ADD `response_code` varchar(255)[0m
  [1m[35mSQL (143.7ms)[0m  ALTER TABLE `payments` ADD `avs_response` varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100820135707')[0m
Migrating to ChangeGuestFlagToAnonymous (20100901171814)
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'guest'
  [1m[36mSQL (120.8ms)[0m  [1mALTER TABLE `users` CHANGE `guest` `anonymous` tinyint(1) DEFAULT NULL[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100901171814')
Migrating to EmailForOrders (20100903203949)
  [1m[36mSQL (149.5ms)[0m  [1mALTER TABLE `orders` ADD `email` varchar(255)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100903203949')
Migrating to UpdateCalculableTypeForPromotions (20100923095305)
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `calculators` SET calculable_type = 'Promotion' WHERE (calculable_type = 'Coupon')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100923095305')
Migrating to CreateMailMethods (20100923162011)
  [1m[36mSQL (148.1ms)[0m  [1mCREATE TABLE `mail_methods` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `environment` varchar(255), `active` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20100923162011')
Migrating to RenameFrozenToLocked (20100929151905)
  [1m[36mSQL (1.5ms)[0m  [1mSHOW COLUMNS FROM `adjustments` LIKE 'frozen'[0m
  [1m[35mSQL (148.3ms)[0m  ALTER TABLE `adjustments` CHANGE `frozen` `locked` tinyint(1) DEFAULT NULL
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20100929151905')[0m
Migrating to MoveSpecialInstructionsToOrders (20101008190536)
  [1m[35mSQL (151.3ms)[0m  ALTER TABLE `orders` ADD `special_instructions` text
  [1m[36mSQL (0.5ms)[0m  [1mupdate orders set special_instructions = (select special_instructions from checkouts where order_id = orders.id)[0m
  [1m[35mSQL (182.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101008190536')
Migrating to CreateLogEntries (20101026184700)
  [1m[36mSQL (285.7ms)[0m  [1mCREATE TABLE `log_entries` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `source_id` int(11), `source_type` varchar(255), `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184700')
Migrating to MigrateTransactionsToPaymentState (20101026184714)
  [1m[36mTransaction Load (1.3ms)[0m  [1mselect * from transactions group by payment_id having count(payment_id) = 1 and txn_type = 1[0m
  [1m[35mTransaction Load (0.3ms)[0m  select * from transactions where txn_type=4
  [1m[36mTransaction Load (0.2ms)[0m  [1mselect * from transactions where txn_type = 2[0m
  [1m[35mTransaction Load (0.2ms)[0m  select * from transactions where txn_type = 3
  [1m[36mTransaction Load (0.2ms)[0m  [1mselect * from transactions where txn_type = 5[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184714')
Migrating to DeleteInProgressOrders (20101026184746)
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `orders` WHERE `orders`.`state` = 'in_progress'
  [1m[36mSQL (0.3ms)[0m  [1mdelete from adjustments where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.2ms)[0m  delete from checkouts where order_id not in (select id from orders)
  [1m[36mSQL (0.2ms)[0m  [1mdelete from shipments where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.3ms)[0m  delete from payments where order_id not in (select id from orders)
  [1m[36mSQL (0.1ms)[0m  [1mdelete from line_items where order_id not in (select id from orders)[0m
  [1m[35mSQL (0.2ms)[0m  delete from inventory_units where order_id not in (select id from orders)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184746')[0m
Migrating to MigrateCheckoutToOrders (20101026184808)
  [1m[35mOrder Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE (`orders`.`id` >= 0) ORDER BY `orders`.`id` ASC LIMIT 1000
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184808')[0m
Migrating to MigrateAdjustments (20101026184833)
  [1m[35mSQL (0.3ms)[0m  update adjustments set amount = 0.0 where amount is null
  [1m[36mSQL (0.2ms)[0m  [1mupdate adjustments set mandatory = 'true', locked = 'true'[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184833')
Migrating to RemoveShippedState (20101026184855)
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`state` = 'shipped'[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184855')
Migrating to PreventNilPaymentTotal (20101026184916)
  [1m[36mSQL (0.6ms)[0m  [1mupdate orders set payment_total = 0.0 where payment_total is null[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026184916')
Migrating to PreventNilEmail (20101026184932)
  [1m[36mSQL (0.3ms)[0m  [1mupdate orders set email = 'guest@example.com' where email is null[0m
  [1m[35mSQL (0.1ms)[0m  update orders set email = 'guest@example.com' where email = ''
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184932')[0m
Migrating to RenameColumnsForDevise (20101026184950)
  [1m[35mSQL (2.8ms)[0m  SHOW COLUMNS FROM `users` LIKE 'crypted_password'
  [1m[36mSQL (164.8ms)[0m  [1mALTER TABLE `users` CHANGE `crypted_password` `encrypted_password` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.4ms)[0m  SHOW COLUMNS FROM `users` LIKE 'salt'
  [1m[36mSQL (160.1ms)[0m  [1mALTER TABLE `users` CHANGE `salt` `password_salt` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'remember_token_expires_at'
  [1m[36mSQL (160.4ms)[0m  [1mALTER TABLE `users` CHANGE `remember_token_expires_at` `remember_created_at` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.8ms)[0m  SHOW COLUMNS FROM `users` LIKE 'login_count'
  [1m[36mSQL (160.3ms)[0m  [1mALTER TABLE `users` CHANGE `login_count` `sign_in_count` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (1.7ms)[0m  SHOW COLUMNS FROM `users` LIKE 'failed_login_count'
  [1m[36mSQL (148.9ms)[0m  [1mALTER TABLE `users` CHANGE `failed_login_count` `failed_attempts` int(11) DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (1.5ms)[0m  SHOW COLUMNS FROM `users` LIKE 'single_access_token'
  [1m[36mSQL (194.8ms)[0m  [1mALTER TABLE `users` CHANGE `single_access_token` `reset_password_token` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'current_login_at'
  [1m[36mSQL (180.8ms)[0m  [1mALTER TABLE `users` CHANGE `current_login_at` `current_sign_in_at` datetime DEFAULT NULL[0m
  [1m[35mSQL (1.7ms)[0m  SHOW COLUMNS FROM `users` LIKE 'last_login_at'
  [1m[36mSQL (160.6ms)[0m  [1mALTER TABLE `users` CHANGE `last_login_at` `last_sign_in_at` datetime DEFAULT NULL[0m
  [1m[35mSQL (1.7ms)[0m  SHOW COLUMNS FROM `users` LIKE 'current_login_ip'
  [1m[36mSQL (173.3ms)[0m  [1mALTER TABLE `users` CHANGE `current_login_ip` `current_sign_in_ip` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (1.6ms)[0m  SHOW COLUMNS FROM `users` LIKE 'last_login_ip'
  [1m[36mSQL (149.2ms)[0m  [1mALTER TABLE `users` CHANGE `last_login_ip` `last_sign_in_ip` varchar(255) DEFAULT NULL[0m
  [1m[35mSQL (143.7ms)[0m  ALTER TABLE `users` ADD `authentication_token` varchar(255)
  [1m[36mSQL (155.5ms)[0m  [1mALTER TABLE `users` ADD `unlock_token` varchar(255)[0m
  [1m[35mSQL (145.7ms)[0m  ALTER TABLE `users` ADD `locked_at` datetime
  [1m[36mSQL (122.3ms)[0m  [1mALTER TABLE `users` DROP `api_key`[0m
  [1m[35mSQL (122.3ms)[0m  ALTER TABLE `users` DROP `openid_identifier`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184950')[0m
Migrating to GenerateAnonymousUsers (20101026184959)
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`user_id` IS NULL
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026184959')[0m
Migrating to UpdateOrderState (20101026185022)
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101026185022')[0m
Migrating to CleanupLegacyTables (20101026192225)
  [1m[35mSQL (1.3ms)[0m  DROP TABLE `checkouts`
  [1m[36mSQL (1.2ms)[0m  [1mDROP TABLE `transactions`[0m
  [1m[35mSQL (1.0ms)[0m  DROP TABLE `open_id_authentication_associations`
  [1m[36mSQL (0.9ms)[0m  [1mDROP TABLE `open_id_authentication_nonces`[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101026192225')
Migrating to RemoveNumberAndCvvFromCredicard (20101028151745)
  [1m[36mSQL (127.3ms)[0m  [1mALTER TABLE `creditcards` DROP `number`[0m
  [1m[35mSQL (236.2ms)[0m  ALTER TABLE `creditcards` DROP `verification_value`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101028151745')[0m
Migrating to DropAnonymousFieldForUser (20101103212716)
  [1m[35mSQL (175.1ms)[0m  ALTER TABLE `users` DROP `anonymous`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101103212716')[0m
Migrating to RenamedRmaCancelledState (20101111133551)
  [1m[35mSQL (2.0ms)[0m  SHOW TABLES
  [1m[36mReturnAuthorization Load (0.4ms)[0m  [1mSELECT `return_authorizations`.* FROM `return_authorizations` WHERE `return_authorizations`.`state` = 'cancelled'[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101111133551')
Migrating to FixProblematicIndexNames (20101117031806)
  [1m[36mSQL (2.4ms)[0m  [1mSHOW KEYS FROM `preferences`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `preferences`
  [1m[36mSQL (89.4ms)[0m  [1mCREATE UNIQUE INDEX `ix_prefs_on_owner_attr_pref` ON `preferences` (`owner_id`, `owner_type`, `name`, `group_id`, `group_type`)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20101117031806')
Migrating to ConvertUserRememberField (20101214150824)
  [1m[36mSQL (147.6ms)[0m  [1mALTER TABLE `users` DROP `remember_created_at`[0m
  [1m[35mSQL (187.3ms)[0m  ALTER TABLE `users` ADD `remember_created_at` datetime
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101214150824')[0m
Migrating to CreateTokenizedPermissions (20101217012656)
  [1m[35mSQL (126.6ms)[0m  CREATE TABLE `tokenized_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `permissable_id` int(11), `permissable_type` varchar(255), `token` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `tokenized_permissions`[0m
  [1m[35mSQL (161.0ms)[0m  CREATE INDEX `index_tokenized_name_and_type` ON `tokenized_permissions` (`permissable_id`, `permissable_type`)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101217012656')[0m
Migrating to TokensForLegacyOrders (20101219201531)
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101219201531')[0m
Migrating to AddPositionToVariants (20101223215658)
  [1m[35mSQL (184.4ms)[0m  ALTER TABLE `variants` ADD `position` int(11)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20101223215658')[0m
Migrating to AddNextStateToStateEvents (20110110130847)
  [1m[35mSQL (183.2ms)[0m  ALTER TABLE `state_events` ADD `next_state` varchar(255)
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110110130847')[0m
Migrating to AddPositionToOptionTypes (20110111122537)
  [1m[35mSQL (151.0ms)[0m  ALTER TABLE `option_types` ADD `position` int(11) DEFAULT 0 NOT NULL
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110111122537')[0m
Migrating to RemoveTrailingSlashesInTaxonPermalinks (20110314192118)
  [1m[35mSQL (1.7ms)[0m  SHOW TABLES
  [1m[36mTaxon Load (0.4ms)[0m  [1mSELECT `taxons`.* FROM `taxons` WHERE (`taxons`.`id` >= 0) ORDER BY `taxons`.`id` ASC LIMIT 1000[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20110314192118')
  [1m[36mSQL (2.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations`
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (3.0ms)[0m  describe `addresses`
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `addresses`[0m
  [1m[35mSQL (2.7ms)[0m  describe `adjustments`
  [1m[36mSQL (2.5ms)[0m  [1mSHOW KEYS FROM `adjustments`[0m
  [1m[35mSQL (2.6ms)[0m  describe `assets`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `assets`[0m
  [1m[35mSQL (2.5ms)[0m  describe `calculators`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `calculators`[0m
  [1m[35mSQL (1.8ms)[0m  describe `configurations`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `configurations`[0m
  [1m[35mSQL (2.2ms)[0m  describe `countries`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `countries`[0m
  [1m[35mSQL (2.7ms)[0m  describe `creditcards`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `creditcards`[0m
  [1m[35mSQL (2.3ms)[0m  describe `gateways`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `gateways`[0m
  [1m[35mSQL (2.0ms)[0m  describe `inventory_units`
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `inventory_units`[0m
  [1m[35mSQL (2.0ms)[0m  describe `line_items`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `line_items`[0m
  [1m[35mSQL (1.9ms)[0m  describe `log_entries`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `log_entries`[0m
  [1m[35mSQL (1.8ms)[0m  describe `mail_methods`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `mail_methods`[0m
  [1m[35mSQL (2.1ms)[0m  describe `option_types`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `option_types`[0m
  [1m[35mSQL (1.5ms)[0m  describe `option_types_prototypes`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `option_types_prototypes`[0m
  [1m[35mSQL (1.8ms)[0m  describe `option_values`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `option_values`[0m
  [1m[35mSQL (1.7ms)[0m  describe `option_values_variants`
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `option_values_variants`[0m
  [1m[35mSQL (3.0ms)[0m  describe `orders`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `orders`[0m
  [1m[35mSQL (2.2ms)[0m  describe `payment_methods`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `payment_methods`[0m
  [1m[35mSQL (2.1ms)[0m  describe `payments`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `payments`[0m
  [1m[35mSQL (3.0ms)[0m  describe `preferences`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `preferences`[0m
  [1m[35mSQL (2.4ms)[0m  describe `product_groups`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `product_groups`[0m
  [1m[35mSQL (2.0ms)[0m  describe `product_groups_products`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `product_groups_products`[0m
  [1m[35mSQL (2.0ms)[0m  describe `product_option_types`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `product_option_types`[0m
  [1m[35mSQL (2.4ms)[0m  describe `product_properties`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `product_properties`[0m
  [1m[35mSQL (1.6ms)[0m  describe `product_scopes`
  [1m[36mSQL (0.8ms)[0m  [1mSHOW KEYS FROM `product_scopes`[0m
  [1m[35mSQL (2.8ms)[0m  describe `products`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `products`[0m
  [1m[35mSQL (1.6ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `products_promotion_rules`[0m
  [1m[35mSQL (1.4ms)[0m  describe `products_taxons`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `products_taxons`[0m
  [1m[35mSQL (2.0ms)[0m  describe `promotion_rules`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `promotion_rules`[0m
  [1m[35mSQL (1.9ms)[0m  describe `promotion_rules_users`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `promotion_rules_users`[0m
  [1m[35mSQL (2.2ms)[0m  describe `promotions`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `promotions`[0m
  [1m[35mSQL (2.4ms)[0m  describe `properties`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `properties`[0m
  [1m[35mSQL (1.5ms)[0m  describe `properties_prototypes`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `properties_prototypes`[0m
  [1m[35mSQL (1.8ms)[0m  describe `prototypes`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `prototypes`[0m
  [1m[35mSQL (2.0ms)[0m  describe `return_authorizations`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `return_authorizations`[0m
  [1m[35mSQL (1.5ms)[0m  describe `roles`
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `roles`[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `roles_users`[0m
  [1m[35mSQL (2.3ms)[0m  describe `shipments`
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `shipments`[0m
  [1m[35mSQL (2.0ms)[0m  describe `shipping_categories`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `shipping_categories`[0m
  [1m[35mSQL (1.9ms)[0m  describe `shipping_methods`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `shipping_methods`[0m
  [1m[35mSQL (2.8ms)[0m  describe `state_events`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `state_events`[0m
  [1m[35mSQL (1.7ms)[0m  describe `states`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `states`[0m
  [1m[35mSQL (2.6ms)[0m  describe `tax_categories`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `tax_categories`[0m
  [1m[35mSQL (1.9ms)[0m  describe `tax_rates`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `tax_rates`[0m
  [1m[35mSQL (2.2ms)[0m  describe `taxonomies`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `taxonomies`[0m
  [1m[35mSQL (2.8ms)[0m  describe `taxons`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `taxons`[0m
  [1m[35mSQL (1.7ms)[0m  describe `tokenized_permissions`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `tokenized_permissions`[0m
  [1m[35mSQL (1.8ms)[0m  describe `trackers`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `trackers`[0m
  [1m[35mSQL (3.6ms)[0m  describe `users`
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `users`[0m
  [1m[35mSQL (3.2ms)[0m  describe `variants`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `variants`[0m
  [1m[35mSQL (1.8ms)[0m  describe `zone_members`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `zone_members`[0m
  [1m[35mSQL (2.2ms)[0m  describe `zones`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `zones`[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (2.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mMailMethod Load (0.3ms)[0m  [1mSELECT `mail_methods`.* FROM `mail_methods` WHERE `mail_methods`.`environment` = 'development' LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  SHOW TABLES
  [1m[36mSQL (1.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (2.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (2.5ms)[0m  describe `product_groups_products`
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `products_taxons`[0m
  [1m[35mSQL (2.2ms)[0m  describe `option_values_variants`
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.3ms)[0m  SHOW TABLES
  [1m[36mSQL (2.4ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `products_promotion_rules`[0m
  [1m[35mSQL (3.0ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `promotion_rules_users`[0m
  [1m[35mSQL (2.8ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES


Started GET "/" for 127.0.0.1 at Tue Sep 27 22:45:15 +0200 2011
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.6ms)[0m  SHOW TABLES
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.9ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mSQL (2.2ms)[0m  [1mSHOW TABLES[0m
  Processing by ProductsController#index as HTML
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mAppConfiguration Load (0.4ms)[0m  [1mSELECT `configurations`.* FROM `configurations` WHERE `configurations`.`type` = 'AppConfiguration' AND `configurations`.`name` = 'Default configuration' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mSELECT 1 FROM `configurations` WHERE `configurations`.`type` = 'AppConfiguration' AND (`configurations`.`name` = BINARY 'Default configuration') LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  describe `configurations`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `configurations` (`name`, `created_at`, `type`, `updated_at`) VALUES ('Default configuration', '2011-09-27 20:45:15', 'AppConfiguration', '2011-09-27 20:45:15')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mPreference Load (0.4ms)[0m  [1mSELECT `preferences`.* FROM `preferences` WHERE (`preferences`.owner_id = 1 AND `preferences`.owner_type = 'Configuration')[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` WHERE (products.deleted_at is NULL) AND (products.available_on <= '2011-09-27 20:45:15') LIMIT 10 OFFSET 0
  [1m[36mTaxonomy Load (0.4ms)[0m  [1mSELECT `taxonomies`.* FROM `taxonomies`[0m
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_taxonomies.html.erb (125.4ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_products.html.erb (1.8ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_head.html.erb (3.1ms)
  [1m[35mSQL (1.8ms)[0m  describe `products_taxons`
  [1m[36mSQL (9.3ms)[0m  [1mdescribe `properties_prototypes`[0m
  [1m[35mSQL (1.4ms)[0m  SHOW TABLES
  [1m[36mProperty Load (0.3ms)[0m  [1mSELECT `properties`.* FROM `properties` WHERE `properties`.`name` = 'brand' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mTaxon Load (0.5ms)[0m  [1mSELECT `taxons`.* FROM `taxons` WHERE `taxons`.`parent_id` IS NULL ORDER BY `lft`[0m
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_search.html.erb (258.0ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_auth-0.60.1/app/views/shared/_login_bar.html.erb (1.5ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_store_menu.html.erb (2.0ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_nav_bar.html.erb (298.9ms)
  [1m[35mTracker Load (0.4ms)[0m  SELECT `trackers`.* FROM `trackers` WHERE `trackers`.`active` = 1 AND `trackers`.`environment` = 'development' LIMIT 1
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_google_analytics.html.erb (138.9ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_footer.html.erb (153.3ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/products/index.html.erb within layouts/spree_application (660.4ms)
Completed 200 OK in 931ms (Views: 681.8ms | ActiveRecord: 41.1ms)


Started GET "/" for 127.0.0.1 at Tue Sep 27 22:45:16 +0200 2011
  [1m[36mSQL (1.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (3.1ms)[0m  SHOW TABLES
  [1m[36mSQL (2.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.4ms)[0m  SHOW TABLES
  [1m[36mSQL (5.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.7ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (15.3ms)[0m  describe `roles_users`
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (2.0ms)[0m  describe `products_taxons`
  [1m[36mSQL (2.8ms)[0m  [1mdescribe `option_values_variants`[0m
  [1m[35mSQL (4.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (5.8ms)[0m  describe `product_groups_products`
  [1m[36mSQL (1.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.1ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `products_promotion_rules`[0m
  [1m[35mSQL (3.0ms)[0m  describe `promotion_rules_users`
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  Processing by ProductsController#index as 
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` WHERE (products.deleted_at is NULL) AND (products.available_on <= '2011-09-27 20:45:18') LIMIT 10 OFFSET 0
  [1m[36mTaxonomy Load (0.7ms)[0m  [1mSELECT `taxonomies`.* FROM `taxonomies`[0m
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_taxonomies.html.erb (16.8ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_products.html.erb (1.8ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_head.html.erb (2.6ms)
  [1m[35mSQL (2.7ms)[0m  describe `products_taxons`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `properties_prototypes`[0m
  [1m[35mSQL (1.9ms)[0m  SHOW TABLES
  [1m[36mProperty Load (0.3ms)[0m  [1mSELECT `properties`.* FROM `properties` WHERE `properties`.`name` = 'brand' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  SHOW TABLES
  [1m[36mTaxon Load (0.4ms)[0m  [1mSELECT `taxons`.* FROM `taxons` WHERE `taxons`.`parent_id` IS NULL ORDER BY `lft`[0m
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_search.html.erb (305.0ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_auth-0.60.1/app/views/shared/_login_bar.html.erb (1.4ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_store_menu.html.erb (1.8ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_nav_bar.html.erb (337.9ms)
  [1m[35mTracker Load (0.3ms)[0m  SELECT `trackers`.* FROM `trackers` WHERE `trackers`.`active` = 1 AND `trackers`.`environment` = 'development' LIMIT 1
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_google_analytics.html.erb (14.4ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/shared/_footer.html.erb (27.9ms)
Rendered /Users/steffoz/.rvm/gems/ruby-1.8.7-p334@antifasoul/gems/spree_core-0.60.1/app/views/products/index.html.erb within layouts/spree_application (441.8ms)
Completed 200 OK in 492ms (Views: 462.8ms | ActiveRecord: 76.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/steffoz/dev/sites/antifasoul/config/environment.rb:5)
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.3ms)[0m  SHOW TABLES
  [1m[36mMailMethod Load (0.3ms)[0m  [1mSELECT `mail_methods`.* FROM `mail_methods` WHERE `mail_methods`.`environment` = 'development' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  describe `roles_users`
  [1m[36mSQL (2.2ms)[0m  [1mdescribe `product_groups_products`[0m
  [1m[35mSQL (1.8ms)[0m  describe `products_taxons`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `option_values_variants`[0m
  [1m[35mSQL (2.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.8ms)[0m  describe `product_groups_products`
  [1m[36mSQL (2.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.8ms)[0m  describe `products_promotion_rules`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(DISTINCT `users`.`id`) FROM `users` LEFT OUTER JOIN `roles_users` ON `roles_users`.`user_id` = `users`.`id` LEFT OUTER JOIN `roles` ON `roles`.`id` = `roles_users`.`role_id` WHERE `roles`.`name` = 'admin'
  [1m[36mSQL (3.1ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`email` = 'stefano.verna@gmail.com' LIMIT 1
WARNING: Can't mass-assign protected attributes: login
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(DISTINCT `users`.`id`) FROM `users` LEFT OUTER JOIN `roles_users` ON `roles_users`.`user_id` = `users`.`id` LEFT OUTER JOIN `roles` ON `roles`.`id` = `roles_users`.`role_id` WHERE `roles`.`name` = 'admin'
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  describe `roles`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `roles` (`name`) VALUES ('admin')[0m
  [1m[35mSQL (3.5ms)[0m  describe `users`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `users` (`perishable_token`, `remember_created_at`, `persistence_token`, `reset_password_token`, `authentication_token`, `updated_at`, `bill_address_id`, `current_sign_in_at`, `locked_at`, `ship_address_id`, `created_at`, `encrypted_password`, `remember_token`, `password_salt`, `last_sign_in_ip`, `login`, `sign_in_count`, `email`, `current_sign_in_ip`, `last_sign_in_at`, `unlock_token`, `failed_attempts`, `last_request_at`) VALUES (NULL, NULL, NULL, NULL, NULL, '2011-09-27 20:47:45', NULL, NULL, NULL, NULL, '2011-09-27 20:47:45', 'e8744313f1ef335f377e8548565359f3d544dbdb367b534d192c04df06658580ccc0e2a391ae8f0af2111d47438935bb4d828e91ad5dc38c492faa1f1243db01', NULL, '6duVvMI5CUmBOFQNXb3c', NULL, 'stefano.verna@gmail.com', 0, 'stefano.verna@gmail.com', NULL, NULL, NULL, 0, NULL)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (1, 1)
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `roles_users` (`user_id`, `role_id`) VALUES (1, 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) AND (`users`.id <> 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('stefano.verna@gmail.com')) AND (`users`.id <> 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(DISTINCT `users`.`id`) FROM `users` LEFT OUTER JOIN `roles_users` ON `roles_users`.`user_id` = `users`.`id` LEFT OUTER JOIN `roles` ON `roles`.`id` = `roles_users`.`role_id` WHERE `roles`.`name` = 'admin'[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
